(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{395:function(s,t,a){"use strict";a.r(t);var e=a(45),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" redis")]),s._v(" "),a("blockquote",[a("p",[s._v("ç›®å½•ç»“æ„å‚è€ƒ "),a("a",{attrs:{href:"https://github.com/7-sevens/Developer-Books/tree/master/Redis",target:"_blank",rel:"noopener noreferrer"}},[s._v("Rediså¼€å‘ä¸è¿ç»´.pdf"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/point/04cache/redis-structure/"}},[s._v("rediså¤šæ•°æ®åº•å±‚æºç å‚è€ƒ")]),s._v(" ğŸˆ "),a("RouterLink",{attrs:{to:"/point/04cache/redis-config-file/"}},[s._v("redisé…ç½®æ–‡ä»¶")])],1)]),s._v(" "),a("h2",{attrs:{id:"_01-ç®€å•æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_01-ç®€å•æ¦‚è¿°"}},[s._v("#")]),s._v(" 01. ç®€å•æ¦‚è¿°")]),s._v(" "),a("p",[s._v("æ¦‚è¿°: ä¸€ç§åŸºäºé”®å€¼å¯¹çš„NoSQLæ•°æ®åº“, æ”¯æŒå¦‚ä¸‹ç‰¹æ€§: å¤šæ•°æ®ç±»å‹, é«˜è¯»å†™æ€§èƒ½, æ”¯æŒå¿«ç…§å’Œæ—¥å¿—çš„æŒä¹…åŒ–, è¿˜æœ‰é”®è¿‡æœŸ, å‘å¸ƒè®¢é˜…, äº‹åŠ¡, Luaè„šæœ¬ç­‰")]),s._v(" "),a("p",[s._v("å…¨ç§°: Remote Dictionary Server")]),s._v(" "),a("h4",{attrs:{id:"redisç‰¹æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisç‰¹æ€§"}},[s._v("#")]),s._v(" redisç‰¹æ€§")]),s._v(" "),a("ul",[a("li",[s._v("å†…å­˜æ•°æ®åº“, é€Ÿåº¦å¿«: å•æœº10ä¸‡/ç§’")]),s._v(" "),a("li",[s._v("å•çº¿ç¨‹æ¶æ„: é¿å…äº†é«˜å¹¶å‘å¤šçº¿ç¨‹é—®é¢˜ (6.xå¼•å…¥å¤šçº¿ç¨‹IO, workerè¿˜æ˜¯å•çº¿ç¨‹çš„)")]),s._v(" "),a("li",[s._v("å¤šæ•°æ®ç±»å‹: å­—ç¬¦ä¸², åˆ—è¡¨, å“ˆå¸Œ, é›†åˆ, æœ‰åºé›†åˆ; å­—ç¬¦ä¸²è¿˜èƒ½æ‰©å±•ä¸ºä½å›¾, åœ°ç†ä¿¡æ¯å®šä½ç­‰")]),s._v(" "),a("li",[s._v("é”®è¿‡æœŸ, å‘å¸ƒè®¢é˜…, Luaè„šæœ¬, ç®€å•äº‹åŠ¡, Pipelineç­‰åŠŸèƒ½")]),s._v(" "),a("li",[s._v("æŒä¹…åŒ–: RDB å’Œ AOF (4.xå¯æ··åˆä½¿ç”¨)")]),s._v(" "),a("li",[s._v("ä¸»ä»å¤åˆ¶(Rediså‰¯æœ¬), é«˜å¯ç”¨(Sentinel), åˆ†å¸ƒå¼é›†ç¾¤(Cluster)")])]),s._v(" "),a("h4",{attrs:{id:"redis-vs-memcached"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-vs-memcached"}},[s._v("#")]),s._v(" redis vs memcached")]),s._v(" "),a("ul",[a("li",[s._v("memcachedä¸­valueåªæœ‰ä¸€ç§ç±»å‹string, rediså¤šæ•°æ®ç±»å‹")]),s._v(" "),a("li",[s._v("å†…å­˜ç®¡ç†æœºåˆ¶ä¸åŒ")]),s._v(" "),a("li",[s._v("redisä½¿ç”¨å•çº¿ç¨‹worker, memcachedå¯ä»¥å¤šçº¿ç¨‹")]),s._v(" "),a("li",[s._v("memcachedæ²¡æœ‰åŸç”Ÿæ”¯æŒåˆ†å¸ƒå¼æ¶æ„")])]),s._v(" "),a("h4",{attrs:{id:"åº”ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" åº”ç”¨åœºæ™¯")]),s._v(" "),a("ol",[a("li",[s._v("ç¼“å­˜: é€šè¿‡åˆç†çš„ç¼“å­˜è®¾è®¡å‡å°‘æ•°æ®åº“å‹åŠ›")]),s._v(" "),a("li",[s._v("æ’è¡Œæ¦œ: é€šè¿‡zsetæ„å»ºå„ç§æ’è¡Œæ¦œç³»ç»Ÿ")]),s._v(" "),a("li",[s._v("è®¡æ•°å™¨: å¯¹ä¸€äº›è§†é¢‘ç½‘ç«™çš„æµè§ˆæ¬¡æ•°è¿›è¡Œç´¯è®¡")]),s._v(" "),a("li",[s._v("ç¤¾äº¤ç½‘ç»œ: åº”å¯¹ç¤¾äº¤ç½‘ç«™çš„é«˜è®¿é—®é‡: ç‚¹èµæ•°, æ¨é€, å…±åŒå¥½å‹/çˆ±å¥½(äº¤é›†)")]),s._v(" "),a("li",[s._v("æ¶ˆæ¯é˜Ÿåˆ—: æ»¡è¶³ä¸€èˆ¬çš„æ¶ˆæ¯é˜Ÿåˆ—åŠŸèƒ½")])]),s._v(" "),a("p",[s._v("å»ºè®®: æ ¹æ®æ•°æ®è§„æ¨¡å’Œæ•°æ®å†·çƒ­ç­‰ç‰¹æ€§å†³å®šæ˜¯å¦ä½¿ç”¨redis")]),s._v(" "),a("h2",{attrs:{id:"_02-redis-apiçš„ç†è§£å’Œä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_02-redis-apiçš„ç†è§£å’Œä½¿ç”¨"}},[s._v("#")]),s._v(" 02. redis APIçš„ç†è§£å’Œä½¿ç”¨")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("keys * "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥çœ‹æ‰€æœ‰é”®")]),s._v("\ndbsize "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥çœ‹é”®æ€»æ•°")]),s._v("\nexist key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥è¯¢é”®æ˜¯å¦å­˜åœ¨")]),s._v("\ndel key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ é™¤é”®")]),s._v("\nexpire key seconds\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ç»™é”®è®¾ç½®è¿‡æœŸæ—¶é—´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é”®çš„æ•°æ®ç»“æ„ç±»å‹")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"æ•°æ®ç»“æ„å’Œå†…éƒ¨ç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®ç»“æ„å’Œå†…éƒ¨ç¼–ç "}},[s._v("#")]),s._v(" æ•°æ®ç»“æ„å’Œå†…éƒ¨ç¼–ç ")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿”å›çš„æ•°æ®ç»“æ„ç±»å‹æœ‰è¿™äº›(string, hash, list, set, zset)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä½†è¿™äº›åªæ˜¯å †å¤–çš„æ•°æ®ç»“æœ, éƒ½æœ‰è‡ªå·±åº•å±‚çš„å†…éƒ¨ç¼–ç å®ç°(è€Œä¸”æ˜¯å¤šç§å®ç°)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#redisä¼šåœ¨åˆé€‚çš„åœºæ™¯é€‰æ‹©åˆé€‚çš„å†…éƒ¨ç¼–ç ")]),s._v("\nobject encoding key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥çœ‹å†…éƒ¨ç¼–ç å®ç°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä¾‹å¦‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#listæ•°æ®ç»“æœåŒ…å«äº†linkedlistå’Œziplistä¸¤ç§å†…éƒ¨ç¼–ç ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5waHAuY24vdXBsb2FkL2FydGljbGUvMDAwLzA1NC8wMjUvNDFhYWFkZWNhOThlMTQ2NDA5NDhiZGJhOGJjNGJhMTItMS5wbmc?x-oss-process=image/format,png",alt:"å†…éƒ¨ç¼–ç "}})]),s._v(" "),a("h4",{attrs:{id:"å•çº¿ç¨‹æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å•çº¿ç¨‹æ¶æ„"}},[s._v("#")]),s._v(" å•çº¿ç¨‹æ¶æ„")]),s._v(" "),a("p",[s._v("æ¦‚è¿°: å‘½ä»¤åˆ°è¾¾redisä¼šè¿›å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­, ç„¶åé€ä¸ªæ‰§è¡Œ, ä¸å­˜åœ¨å¤šä¸ªå‘½ä»¤è¢«åŒæ—¶æ‰§è¡Œçš„æƒ…å†µ")]),s._v(" "),a("ol",[a("li",[s._v("å•çº¿ç¨‹æ¨¡å‹")]),s._v(" "),a("li",[a("strong",[s._v("ä¸ºä»€ä¹ˆå•çº¿ç¨‹æ¨¡å‹è¿˜èƒ½é‚£ä¹ˆå¿«")]),s._v(" "),a("ol",[a("li",[s._v("çº¯å†…å­˜è®¿é—®")]),s._v(" "),a("li",[s._v("éé˜»å¡IO, ä½¿ç”¨epollçš„IOå¤šè·¯å¤ç”¨æŠ€æœ¯å¤„ç†tcpè¿æ¥/å…³é—­, bufferè¯»å†™")]),s._v(" "),a("li",[s._v("å•çº¿ç¨‹é¿å…äº†çº¿ç¨‹åˆ‡æ¢, é«˜å¹¶å‘ä¸‹é”é—®é¢˜")]),s._v(" "),a("li",[s._v("redis6.0å¼€å§‹ä½¿ç”¨å¤šçº¿ç¨‹io threads")])])]),s._v(" "),a("li",[a("strong",[s._v("é—®é¢˜")]),s._v(": å¦‚æœæŸä¸ªå‘½ä»¤æ‰§è¡Œæ—¶é—´è¿‡é•¿, ä¼šé€ æˆå…¶ä»–å‘½ä»¤é˜»å¡")])]),s._v(" "),a("h4",{attrs:{id:"io-threads"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#io-threads"}},[s._v("#")]),s._v(" IO threads")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ—§rediså¤„ç†ä¸¤æ¡æŒ‡ä»¤: æŒ‡ä»¤1,æŒ‡ä»¤2")]),s._v("\nè¯»å–IO1  è®¡ç®—1\t   å†™IO1   è¯»å–IO2   è®¡ç®—2   å†™IO2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#IO THREADS\t6.x ä»¥åæä¾›")]),s._v("\n\t\tè®¡ç®—1\t\tè®¡ç®—2\t\t\t\t\tworker\nè¯»å–IO1\t\t\tå†™IO1\t\t\t\tio thread1\nè¯»å–IO2\t\t\t\t\tå†™IO2\t\tio thread2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("ä¸èƒ½ä¿è¯å…ˆå¤„ç†C1è¿˜æ˜¯C2, ä½†å¦‚æœæ˜¯åŒä¸€ä¸ªå®¢æˆ·ç«¯, åŒä¸€ä¸ªIOä¸­çš„è¯»å–é¡ºåºæ˜¯å¯ä»¥ä¿è¯çš„")]),s._v(" "),a("h3",{attrs:{id:"å­—ç¬¦ä¸²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—ç¬¦ä¸²"}},[s._v("#")]),s._v(" å­—ç¬¦ä¸²")]),s._v(" "),a("p",[s._v("æ¦‚è¿°: æœ€åŸºç¡€çš„æ•°æ®ç»“æ„;")]),s._v(" "),a("ul",[a("li",[s._v("keyéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹, å…¶ä»–çš„å‡ ç§æ•°æ®ç»“æ„éƒ½æ˜¯åœ¨å­—ç¬¦ä¸²åŸºç¡€ä¸Šæ„å»ºçš„")]),s._v(" "),a("li",[s._v("å¯ä»¥å­˜å‚¨æ•°å€¼, äºŒè¿›åˆ¶, ä½†æ˜¯æœ€å¤§ä¸èƒ½è¶…è¿‡512MB")])]),s._v(" "),a("h4",{attrs:{id:"stringåŸºæœ¬æ“ä½œapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stringåŸºæœ¬æ“ä½œapi"}},[s._v("#")]),s._v(" stringåŸºæœ¬æ“ä½œAPI")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#set and get")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" key value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ex seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("px millisenconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("xx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®¾ç½®kv, ç§’çº§/æ¯«ç§’çº§è¶…æ—¶æ—¶é—´, ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é”®å¿…é¡»ä¸å­˜åœ¨NX(é”) / å¿…é¡»å­˜åœ¨XX(æ›´æ–°)")]),s._v("\nget key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥è¯¢")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®¡æ•°")]),s._v("\nincr key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¯¹å€¼åšè‡ªå¢æ“ä½œ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä¸å¸¸ç”¨å‘½ä»¤")]),s._v("\nappend key value\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿½åŠ å€¼")]),s._v("\nstrlen key \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å­—ç¬¦ä¸²é•¿åº¦")]),s._v("\ngetset key value "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®¾ç½®å¹¶è¿”å›åŸå€¼")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"stringå†…éƒ¨ç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stringå†…éƒ¨ç¼–ç "}},[s._v("#")]),s._v(" stringå†…éƒ¨ç¼–ç ")]),s._v(" "),a("p",[s._v("å­—ç¬¦ä¸²ç±»å‹çš„å†…éƒ¨ç¼–ç :")]),s._v(" "),a("ol",[a("li",[s._v("int: 8ä¸ªå­—èŠ‚çš„é•¿æ•´å½¢")]),s._v(" "),a("li",[s._v("embstr: å°äºç­‰äº39ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸²")]),s._v(" "),a("li",[s._v("raw: å¤§äº39ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸²")])]),s._v(" "),a("h4",{attrs:{id:"stringå…¸å‹ä½¿ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stringå…¸å‹ä½¿ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" stringå…¸å‹ä½¿ç”¨åœºæ™¯")]),s._v(" "),a("h5",{attrs:{id:"_1-ç¼“å­˜åŠŸèƒ½-åŠ é€Ÿè¯»å†™-é™ä½åç«¯å‹åŠ›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¼“å­˜åŠŸèƒ½-åŠ é€Ÿè¯»å†™-é™ä½åç«¯å‹åŠ›"}},[s._v("#")]),s._v(" 1. ç¼“å­˜åŠŸèƒ½: åŠ é€Ÿè¯»å†™, é™ä½åç«¯å‹åŠ›")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5waHAuY24vdXBsb2FkL2FydGljbGUvMDAwLzA1NC8wMjUvNzJmMTQ3ZDAwZDIwNzUxZGFkNjk4OTg5ZTY2NmNiYzgtNS5wbmc?x-oss-process=image/format,png",alt:"ç¼“å­˜"}})]),s._v(" "),a("h5",{attrs:{id:"_2-è®¡æ•°-å°†redisä½œä¸ºåŸºç¡€è®¡æ•°ç»„ä»¶-å†å¼‚æ­¥è½åˆ°å…¶ä»–æ•°æ®æº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è®¡æ•°-å°†redisä½œä¸ºåŸºç¡€è®¡æ•°ç»„ä»¶-å†å¼‚æ­¥è½åˆ°å…¶ä»–æ•°æ®æº"}},[s._v("#")]),s._v(" 2. è®¡æ•°: å°†redisä½œä¸ºåŸºç¡€è®¡æ•°ç»„ä»¶, å†å¼‚æ­¥è½åˆ°å…¶ä»–æ•°æ®æº")]),s._v(" "),a("p",[s._v("æ¯”å¦‚è¯´ç§’æ€, å°†åº“å­˜æ•°é‡ç¼“å­˜åˆ°redis, è¢«ç§’æ€åˆ°0åç»“æŸç§’æ€;")]),s._v(" "),a("p",[s._v("ç‚¹èµ, è¯„è®ºæ•°")]),s._v(" "),a("h5",{attrs:{id:"_3-å…±äº«session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å…±äº«session"}},[s._v("#")]),s._v(" 3. å…±äº«session")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5waHAuY24vdXBsb2FkL2FydGljbGUvMDAwLzA1NC8wMjUvNzJmMTQ3ZDAwZDIwNzUxZGFkNjk4OTg5ZTY2NmNiYzgtNi5wbmc?x-oss-process=image/format,png",alt:"session"}})]),s._v(" "),a("h5",{attrs:{id:"_4-é™æµ-é€šè¿‡incrå’Œè¶…æ—¶æ—¶é—´åš"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-é™æµ-é€šè¿‡incrå’Œè¶…æ—¶æ—¶é—´åš"}},[s._v("#")]),s._v(" 4. é™æµ: é€šè¿‡incrå’Œè¶…æ—¶æ—¶é—´åš")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" key "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ex "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" nx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœæ²¡æœ‰å°±è®¾ç½®ä¸º1")]),s._v("\nincr key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ¤æ–­é€’å¢åçš„ç»“æœæ˜¯å¦è¶…é™")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¶…æ—¶æ—¶é—´è¿˜å¯ä»¥åšé™æ—¶ä¼˜æƒ æ´»åŠ¨, æ‰‹æœºéªŒè¯ç ...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"åˆç†è®¾ç½®é”®å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆç†è®¾ç½®é”®å"}},[s._v("#")]),s._v(" åˆç†è®¾ç½®é”®å")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("æ¨èä½¿ç”¨å¦‚ä¸‹è§„åˆ™, ä¿è¯è¶³å¤ŸåŒºåˆ†åº¦ä¸‹æ§åˆ¶keyçš„é•¿åº¦è¶Šå°è¶Šå¥½\nä¸šåŠ¡å/æ•°æ®åº“å:å¯¹è±¡å:id:[å±æ€§] æ¯”å¦‚user:123:password\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"hash-å“ˆå¸Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash-å“ˆå¸Œ"}},[s._v("#")]),s._v(" hash å“ˆå¸Œ")]),s._v(" "),a("p",[s._v("å“ˆå¸Œ, å­—å…¸, å…³è”æ•°ç»„")]),s._v(" "),a("h4",{attrs:{id:"hash-åŸºæœ¬æ“ä½œapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash-åŸºæœ¬æ“ä½œapi"}},[s._v("#")]),s._v(" hash åŸºæœ¬æ“ä½œAPI")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("hset key field value\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¢åŠ ")]),s._v("\nhget key field\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥è¯¢")]),s._v("\nhdel key field\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ é™¤")]),s._v("\nhlen key\nhexist key field\nhkeys key\nhvals key\nhgetall key\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è·å–æ‰€æœ‰kvå¯¹")]),s._v("\nhincrby key field\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è‡ªå¢")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("æ³¨æ„: hgetallç­‰å‘½ä»¤å¦‚æœå…ƒç´ ä¸ªæ•°è¾ƒå¤šå¯èƒ½é˜»å¡redis")]),s._v(" "),a("h4",{attrs:{id:"hashå†…éƒ¨ç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hashå†…éƒ¨ç¼–ç "}},[s._v("#")]),s._v(" hashå†…éƒ¨ç¼–ç ")]),s._v(" "),a("p",[s._v("æœ‰ä¸¤ç§:")]),s._v(" "),a("ol",[a("li",[s._v("ziplist(å‹ç¼©åˆ—è¡¨):\n"),a("ul",[a("li",[s._v("å½“å…ƒç´ ä¸ªæ•°å°äºhash-max-ziplist-entries(512ä¸ª)")]),s._v(" "),a("li",[s._v("æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½å°äºhash-max-ziplist-value(64å­—èŠ‚)")]),s._v(" "),a("li",[s._v("ziplistä½¿ç”¨æ›´åŠ ç´§å‡‘çš„å†…å­˜ç»“æ„, ä»¥èŠ‚çœç©ºé—´")])])]),s._v(" "),a("li",[s._v("hashtable(å“ˆå¸Œè¡¨):\n"),a("ul",[a("li",[s._v("è¶…å‡ºziplistçš„æ¡ä»¶æ—¶ä¼šä½¿ç”¨, å› ä¸ºziplistçš„è¯»å†™æ•ˆç‡åœ¨æ­¤æ—¶ä¸‹é™")])])])]),s._v(" "),a("h4",{attrs:{id:"hashä½¿ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hashä½¿ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" hashä½¿ç”¨åœºæ™¯")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("ä¾‹å¦‚: ç”¨æˆ·è¡¨, æ ¹æ®ç”¨æˆ·idæ¥ä¿å­˜å¯¹åº”ç”¨æˆ·çš„ä¿¡æ¯;")])]),s._v(" "),a("li",[a("p",[s._v("èšé›†æ•°æ®(å¤šä¸ªåœ°æ–¹çš„æ•°æ®æ±‡æ€»,é¢‘ç¹è®¿é—®,ä½†æ˜¯è¾ƒå°‘ä¿®æ”¹), å•†å“/ç”¨æˆ·çš„è¯¦æƒ…é¡µ")])]),s._v(" "),a("li",[a("p",[s._v("é¿å…redisçš„å“ˆå¸Œè¡¨è†¨èƒ€")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5waHAuY24vdXBsb2FkL2FydGljbGUvMDAwLzA1NC8wMjUvM2ZlODYwNWQxMGQ4ZTc0MmIwYWUxYjU2YzExZWYzY2ItOS5wbmc?x-oss-process=image/format,png",alt:"hashä½¿ç”¨"}})]),s._v(" "),a("h4",{attrs:{id:"ä½¿ç”¨hashå’Œä½¿ç”¨æ ¼å¼åŒ–stringçš„ä¼˜åŠ£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨hashå’Œä½¿ç”¨æ ¼å¼åŒ–stringçš„ä¼˜åŠ£"}},[s._v("#")]),s._v(" ä½¿ç”¨hashå’Œä½¿ç”¨æ ¼å¼åŒ–stringçš„ä¼˜åŠ£")]),s._v(" "),a("ul",[a("li",[s._v("å“ˆå¸Œç±»å‹: ç®€å•ç›´è§‚, ä½†æ˜¯å¦‚æœå†…éƒ¨ç¼–ç è½¬æ¢ä¸ºhashtable, ä¼šæ¶ˆè€—è¾ƒå¤šå†…å­˜")]),s._v(" "),a("li",[s._v("åºåˆ—åŒ–å­—ç¬¦ä¸²ç±»å‹: ç®€åŒ–ç¼–ç¨‹, æé«˜å†…å­˜åˆ©ç”¨ç‡, ä½†æ˜¯æ¯æ¬¡éƒ½éœ€è¦å…¨é‡è¯»å–, è¿˜éœ€è¦é¢å¤–åºåˆ—åŒ–å¼€é”€")])]),s._v(" "),a("h3",{attrs:{id:"list-åˆ—è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-åˆ—è¡¨"}},[s._v("#")]),s._v(" list åˆ—è¡¨")]),s._v(" "),a("p",[s._v("å­˜å‚¨æœ‰åºå…ƒç´ (string), æ˜¯ä¸€ç§çµæ´»çš„æ•°æ®ç»“æ„, å¯ä»¥å……å½“æ ˆå’Œé˜Ÿåˆ—, é˜»å¡é˜Ÿåˆ—")]),s._v(" "),a("ul",[a("li",[s._v("åˆ—è¡¨ä¸­å…ƒç´ æ˜¯æœ‰åºçš„, å¯ä»¥é€šè¿‡ç´¢å¼•ä¸‹æ ‡è·å–æŸä¸ªå…ƒç´ æˆ–èŒƒå›´")]),s._v(" "),a("li",[s._v("å…ƒç´ å¯é‡å¤")])]),s._v(" "),a("h4",{attrs:{id:"liståŸºæœ¬æ“ä½œapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#liståŸºæœ¬æ“ä½œapi"}},[s._v("#")]),s._v(" liståŸºæœ¬æ“ä½œapi")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("rpush lpush linsert\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ·»åŠ ")]),s._v("\nlrange lindex llen\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥è¯¢")]),s._v("\nrpop lpop lrem ltrim\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ é™¤")]),s._v("\nlset\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿®æ”¹")]),s._v("\nblpop brpop\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é˜»å¡æ“ä½œ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"listå†…éƒ¨ç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listå†…éƒ¨ç¼–ç "}},[s._v("#")]),s._v(" listå†…éƒ¨ç¼–ç ")]),s._v(" "),a("ol",[a("li",[s._v("ziplist: å‹ç¼©åˆ—è¡¨ (å‹ç¼©+åç§»é‡, å¤§å¤§å‡å°‘æ¯ä¸ªkeyå­˜å‚¨ç©ºé—´, ä½†æ— æ³•å­˜å‚¨å¤§é‡key)\n"),a("ul",[a("li",[s._v("å…ƒç´ ä¸ªæ•°å°äº list-max-ziplist-entries (é»˜è®¤512ä¸ª)")]),s._v(" "),a("li",[s._v("æ¯ä¸ªå…ƒç´ å€¼å°äº list-max-ziplist-value (é»˜è®¤64å­—èŠ‚)")])])]),s._v(" "),a("li",[s._v("linkedlist: é“¾è¡¨")]),s._v(" "),a("li",[s._v("quicklist: Redis3.2å¼€å§‹æä¾›çš„å†…éƒ¨ç¼–ç , å¯ç®€å•çš„è®¤ä¸ºä»¥ziplistä½œä¸ºèŠ‚ç‚¹çš„é“¾è¡¨, æ˜¯å¯¹ä¸Šè¿°æ•°æ®ç»“æ„çš„ä¼˜åŒ– "),a("a",{attrs:{href:"https://matt.sh/redis-quicklist",target:"_blank",rel:"noopener noreferrer"}},[s._v("quickliståŸç†&ä¼˜åŠ¿"),a("OutboundLink")],1)])]),s._v(" "),a("h4",{attrs:{id:"listä½¿ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listä½¿ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" listä½¿ç”¨åœºæ™¯")]),s._v(" "),a("ol",[a("li",[s._v("æ¶ˆæ¯é˜Ÿåˆ—: lpush+brpopç”Ÿäº§æ¶ˆè´¹è€…æ¨¡å‹å®ç°é˜»å¡é˜Ÿåˆ—")]),s._v(" "),a("li",[s._v("æ–‡ç« åˆ—è¡¨, è¯„è®ºåˆ—è¡¨: åˆ—è¡¨ä¸ä½†æœ‰åº, è¿˜æ”¯æŒæŒ‰ç´¢å¼•èŒƒå›´æŸ¥æ‰¾")]),s._v(" "),a("li",[s._v("æ›¿ä»£javaä¸€äº›å®¹å™¨ - JVM(æœåŠ¡)æ— çŠ¶æ€ - æ•°æ®å¯é ")])]),s._v(" "),a("ul",[a("li",[s._v("lpush+lpop=Stack (æ ˆ)")]),s._v(" "),a("li",[s._v("lpush+rpop=Queue (é˜Ÿåˆ—)")]),s._v(" "),a("li",[s._v("lpsh+ltrim=Capped Collection (æœ‰é™é›†åˆ)")]),s._v(" "),a("li",[s._v("lpush+brpop=Message Queue (æ¶ˆæ¯é˜Ÿåˆ—)")])]),s._v(" "),a("h3",{attrs:{id:"set-é›†åˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-é›†åˆ"}},[s._v("#")]),s._v(" set é›†åˆ")]),s._v(" "),a("p",[s._v("é›†åˆä¸­ä¸å…è®¸æœ‰é‡å¤å…ƒç´ , å¹¶ä¸”é›†åˆä¸­çš„å…ƒç´ æ˜¯æ— åºçš„")]),s._v(" "),a("h4",{attrs:{id:"setåŸºæœ¬æ“ä½œapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setåŸºæœ¬æ“ä½œapi"}},[s._v("#")]),s._v(" setåŸºæœ¬æ“ä½œapi")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¢åˆ æ”¹æŸ¥")]),s._v("\nsadd \nsrem \nscard \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å…ƒç´ ä¸ªæ•°")]),s._v("\nsismember\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#contains")]),s._v("\nsrandmember\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#éšæœºå…ƒç´ ")]),s._v("\nspop\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#éšæœºå¼¹å‡º")]),s._v("\nSADD k1 ooxx xxoo oxox xoxo oxxo xoox ooxx\nSMEMBERS k1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# éšæœºè¿”å›å¤§å°ä¸º2çš„set")]),s._v("\nSRANDMEMBER k1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# éšæœºè¿”å›å¤§å°ä¸º2çš„set, å¦‚æœè¶…å‡ºsetå¤§å°ä¸è¡¥å…¨")]),s._v("\nSRANDMEMBER k1 -8\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# éšæœºè¿”å›å¤§å°ä¸º8çš„set, å¦‚æœè¶…å‡ºsetå¤§å°è¡¥å…¨")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é›†åˆæ“ä½œ")]),s._v("\nsinterstore "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å°†äº¤é›†çš„ç»“æœä¿å­˜")]),s._v("\nSUNION k1 k2\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¹¶é›†")]),s._v("\nSINTER k1 k2\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# äº¤é›†")]),s._v("\nSDIFF k1 k2\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å·®é›†æœ‰æ–¹å‘")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœºæ™¯: å…±åŒå¥½å‹(æ¸¸æˆ...), å¥½å‹/æ¸¸æˆ/å•†å“æ¨è")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h4",{attrs:{id:"setå†…éƒ¨ç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setå†…éƒ¨ç¼–ç "}},[s._v("#")]),s._v(" setå†…éƒ¨ç¼–ç ")]),s._v(" "),a("ol",[a("li",[s._v("intset: æ•´æ•°é›†åˆ\n"),a("ul",[a("li",[s._v("å…ƒç´ éƒ½æ˜¯æ•´æ•°ä¸”ä¸ªæ•°å°äº set-max-intset-entries (é»˜è®¤512ä¸ª)")])])]),s._v(" "),a("li",[s._v("hashtable")])]),s._v(" "),a("h4",{attrs:{id:"setä½¿ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setä½¿ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" setä½¿ç”¨åœºæ™¯")]),s._v(" "),a("ol",[a("li",[s._v("setçš„å…¸å‹ä½¿ç”¨åœºæ™¯æ˜¯æ ‡ç­¾(tag), å¯ä»¥ç»™ç”¨æˆ·è´´æ ‡ç­¾, è¿›è¡Œåˆ†ç±»/åˆ†æ")]),s._v(" "),a("li",[s._v("å…±åŒå¥½å‹(æ¸¸æˆ...), å¥½å‹/æ¸¸æˆ/å•†å“æ¨è")]),s._v(" "),a("li",[s._v("æŠ½å¥–, éªŒè¯ç , æ‰‘å…‹ç‰Œæ¸¸æˆ")]),s._v(" "),a("li",[s._v("åˆ©ç”¨å”¯ä¸€æ€§, å¯ä»¥ç»Ÿè®¡è®¿é—®ç½‘ç«™çš„æ‰€æœ‰ç‹¬ç«‹ IP")])]),s._v(" "),a("h3",{attrs:{id:"zsetæ’åºé›†åˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zsetæ’åºé›†åˆ"}},[s._v("#")]),s._v(" zsetæ’åºé›†åˆ")]),s._v(" "),a("p",[s._v("ä¸èƒ½æœ‰é‡å¤member, ä½†æ˜¯å…ƒç´ å¯ä»¥æ ¹æ®scoreè¿›è¡Œæ’åº")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5waHAuY24vdXBsb2FkL2FydGljbGUvMDAwLzA1NC8wMjUvMmUyZTU2MGFjMzM0MjIxNDAwNmU1NzA3MGY3MWQzY2MtMTYucG5n?x-oss-process=image/format,png",alt:"zset"}})]),s._v(" "),a("h4",{attrs:{id:"zsetåŸºæœ¬æ“ä½œapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zsetåŸºæœ¬æ“ä½œapi"}},[s._v("#")]),s._v(" zsetåŸºæœ¬æ“ä½œapi")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¢åˆ æ”¹æŸ¥")]),s._v("\nzadd\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¢åŠ æ“ä½œå¤æ‚åº¦æé«˜è‡³logN")]),s._v("\nzcard\nzscore\nzrank\tzrevrank\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ’å")]),s._v("\nzrange\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿”å›èŒƒå›´å†…çš„member")]),s._v("\nzrangebyscore\nZADD k1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.5")]),s._v(" apple "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" orange "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" banana\t\nZRANGE k1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1 WITHSCORES\nZREVRANGE k1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é€†å‘, æ³¨æ„æ­£è´Ÿç´¢å¼•")]),s._v("\nZRANGEBYSCORE k1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ†æ•°åŒºé—´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é›†åˆé—´æ“ä½œ, å‚æ•°è¾ƒå¤š, è®¾è®¡åˆ†æ•°çš„è®¡ç®—, æƒé‡...")]),s._v("\nzinterstore \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"zsetå†…éƒ¨ç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zsetå†…éƒ¨ç¼–ç "}},[s._v("#")]),s._v(" zsetå†…éƒ¨ç¼–ç ")]),s._v(" "),a("ol",[a("li",[s._v("ziplist: å‹ç¼©åˆ—è¡¨\n"),a("ul",[a("li",[s._v("å½“æœ‰åºé›†åˆå…ƒç´ å°äº zset-max-ziplist-entries (é»˜è®¤128ä¸ª)")]),s._v(" "),a("li",[s._v("æ¯ä¸ªå…ƒç´ å€¼å°äº zset-max-ziplist-value (64å­—èŠ‚)")])])]),s._v(" "),a("li",[s._v("skiplist: è·³è·ƒè¡¨\n"),a("ul",[a("li",[s._v("é“¾è¡¨, æ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰éšæœºçš„å±‚çº§, headå¤´ç»“ç‚¹æ˜¯æ»¡å±‚çš„, æŸ¥è¯¢å…ƒç´ æ—¶ä»å¤´å¼€å§‹å‘å³ä¸‹éå†")]),s._v(" "),a("li",[s._v("æ’å…¥å…ƒç´ çš„æ—¶å€™éšæœºé€ å±‚, ä¸Šå±‚å…ƒç´ éœ€è¦æ‰¾åˆ°å‘¨å›´å±‚çš„æŒ‡é’ˆåœ°å€, è¿›è¡Œé«˜å±‚çš„æŒ‡é’ˆä¿®æ”¹")])])])]),s._v(" "),a("h4",{attrs:{id:"zsetä½¿ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zsetä½¿ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" zsetä½¿ç”¨åœºæ™¯")]),s._v(" "),a("ol",[a("li",[s._v("zsetå…¸å‹ä½¿ç”¨åœºæ™¯æ˜¯æ’è¡Œæ¦œç³»ç»Ÿ")]),s._v(" "),a("li",[s._v("åšæƒé‡é˜Ÿåˆ—, é‡è¦ä»»åŠ¡å…ˆæ‰§è¡Œ")])]),s._v(" "),a("h3",{attrs:{id:"keyç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keyç®¡ç†"}},[s._v("#")]),s._v(" keyç®¡ç†")]),s._v(" "),a("h4",{attrs:{id:"å•keyç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å•keyç®¡ç†"}},[s._v("#")]),s._v(" å•keyç®¡ç†")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rename")]),s._v(" key newkey\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#keyé‡å‘½å")]),s._v("\nrandomkey\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#éšæœºè¿”å›ä¸€ä¸ªkey")]),s._v("\nexpire key seconds\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#keyè¿‡æœŸæ—¶é—´, æ³¨æ„å­—ç¬¦ä¸²ç±»å‹è®¾ç½®å€¼ä¼šå»æ‰è¿‡æœŸæ—¶é—´")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("è¿ç§»é”®: ä¾‹å¦‚æŠŠéƒ¨åˆ†æ•°æ®ä»ç”Ÿäº§redisè¿ç§»åˆ°æµ‹è¯•redis")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("move key db\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#rediså†…éƒ¨æ•°æ®åº“ç§»åŠ¨æ•°æ® (æ²¡å•¥ç”¨)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dump+restoreå¯ä»¥å®ç°åœ¨ä¸åŒçš„Rediså®ä¾‹ä¹‹é—´è¿›è¡Œæ•°æ®è¿ç§»")]),s._v("\ndump key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åœ¨æºRedisä¸Š, dumpå‘½ä»¤ä¼šå°†é”®å€¼åºåˆ—åŒ–, æ ¼å¼é‡‡ç”¨çš„æ˜¯RDBæ ¼å¼")]),s._v("\nrestore key ttl value\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åœ¨ç›®æ ‡Redisä¸Šå¤åŸ")]),s._v("\nmigrate\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æœ¬è´¨å°±æ˜¯dump, restore, delä¸‰ä¸ªå‘½ä»¤è¿›è¡Œç»„åˆ, ä¸è¿‡æ˜¯åŸå­æ€§çš„")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("éå†é”®:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("key pattern\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ”¯æŒæ ¼å¼åŒ¹é…, é¿å…éå†å¤§é‡key, å¯¼è‡´redisé˜»å¡")]),s._v("\nscan\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ¸è¿›å¼éå†, æ¸¸æ ‡, (åˆ†é¡µ?), å¯èƒ½éå†åˆ°çš„ä¸æ˜¯å½“å‰å¿«ç…§")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"æ•°æ®åº“ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åº“ç®¡ç†"}},[s._v("#")]),s._v(" æ•°æ®åº“ç®¡ç†")]),s._v(" "),a("p",[s._v("ç•¥")]),s._v(" "),a("h2",{attrs:{id:"_03-å…¶ä»–åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_03-å…¶ä»–åŠŸèƒ½"}},[s._v("#")]),s._v(" 03. å…¶ä»–åŠŸèƒ½")]),s._v(" "),a("p",[s._v("æ…¢æŸ¥è¯¢åˆ†æ, Redis Shell, Pipeline(ç®¡é“/æµæ°´çº¿), äº‹åŠ¡ä¸Lua, Bitmaps, å‘å¸ƒè®¢é˜…, HyperLogLog, GEO")]),s._v(" "),a("h4",{attrs:{id:"æ…¢æŸ¥è¯¢åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ…¢æŸ¥è¯¢åˆ†æ"}},[s._v("#")]),s._v(" æ…¢æŸ¥è¯¢åˆ†æ")]),s._v(" "),a("p",[s._v("æ¦‚è¿°: ç³»ç»Ÿåœ¨å‘½ä»¤æ‰§è¡Œå‰åè®¡ç®—æ‰§è¡Œæ—¶é—´, å°†è¶…è¿‡é˜ˆå€¼çš„å‘½ä»¤ä¿¡æ¯è®°å½•ä¸‹æ¥")]),s._v(" "),a("h4",{attrs:{id:"redis-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-shell"}},[s._v("#")]),s._v(" redis-shell")]),s._v(" "),a("p",[s._v("æ‰§è¡Œå¤šæ¬¡, æ¯éš”å‡ ç§’æ‰§è¡Œä¸€æ¬¡, ä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®, é›†ç¾¤, é‰´æƒ, ä»èŠ‚ç‚¹, rdb, ç®¡é“, bigkeys, evalæ‰§è¡ŒLuaè„šæœ¬, æ£€æµ‹ç½‘ç»œå»¶è¿Ÿ, statç»Ÿè®¡ä¿¡æ¯, rawè¿”å›åŸå§‹æ ¼å¼")]),s._v(" "),a("h4",{attrs:{id:"redis-sever"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-sever"}},[s._v("#")]),s._v(" redis-sever")]),s._v(" "),a("p",[s._v("test-memoryå†…å­˜æµ‹è¯•, benchmarkæ€§èƒ½æµ‹è¯•")]),s._v(" "),a("h3",{attrs:{id:"pipeline"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pipeline"}},[s._v("#")]),s._v(" Pipeline")]),s._v(" "),a("p",[s._v("redisçš„ç“¶é¢ˆä¹‹ä¸€åœ¨äºç½‘ç»œå¾€è¿”å»¶è¿Ÿ, pipelineå°†ä¸€ç»„rediså‘½ä»¤ç»„è£…, ä¸€æ¬¡æ‰§è¡Œnæ¡å‘½ä»¤, å‡å°‘ç½‘ç»œå¾€è¿”æ¬¡æ•°ä»è€Œé™ä½å»¶è¿Ÿ; è¯¥åŠŸèƒ½ä¸€èˆ¬é€šè¿‡å®¢æˆ·ç«¯è½¯ä»¶å®ç°")]),s._v(" "),a("h3",{attrs:{id:"äº‹åŠ¡ä¸lua"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº‹åŠ¡ä¸lua"}},[s._v("#")]),s._v(" äº‹åŠ¡ä¸Lua")]),s._v(" "),a("p",[s._v("redisæä¾›ç®€å•çš„äº‹åŠ¡, å¯ä»¥ä½¿ç”¨WATHè¿›è¡ŒCASç›‘æ§è®©æŒ‡ä»¤ä¸æ‰§è¡Œ, ä½†ä¸æ”¯æŒå›æ»š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),s._v(" key\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ç›‘æ§æŸä¸ªkeyæœªè¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹, æ‰ä¼šæ­£å¸¸æ‰§è¡Œäº‹åŠ¡")]),s._v("\nmulti\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¼€å¯äº‹åŠ¡")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#äº‹åŠ¡å†…å®¹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æäº¤äº‹åŠ¡")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"luaç®€å•åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#luaç®€å•åŠŸèƒ½"}},[s._v("#")]),s._v(" Luaç®€å•åŠŸèƒ½")]),s._v(" "),a("div",{staticClass:"language-lua line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("local")]),s._v(" strings val "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"world"')]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--å®šä¹‰å±€éƒ¨å˜é‡, å­—ç¬¦ä¸²")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("local")]),s._v(" tables array "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jedis"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--æ•°ç»„")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- for, whileå¾ªç¯; if elseåˆ¤æ–­; hashç±»å‹tables")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å‡½æ•°å®šä¹‰")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"redisä½¿ç”¨lua"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisä½¿ç”¨lua"}},[s._v("#")]),s._v(" redisä½¿ç”¨lua")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v("\nevalsha\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¯å¤ç”¨è„šæœ¬")]),s._v("\nredis.call\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Luaå¯ä»¥è°ƒç”¨redis.callå‡½æ•°å®ç°å¯¹redisçš„è®¿é—®")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"bitmaps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitmaps"}},[s._v("#")]),s._v(" Bitmaps")]),s._v(" "),a("p",[s._v("å®ç°äº†å¯¹ä½çš„æ“ä½œ, å…¶æœ¬èº«ä¸æ˜¯ä¸€ç§æ•°æ®ç»“æ„, å®é™…ä¸Šå°±æ˜¯å­—ç¬¦ä¸²")]),s._v(" "),a("h4",{attrs:{id:"bitmapsåº”ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitmapsåº”ç”¨"}},[s._v("#")]),s._v(" Bitmapsåº”ç”¨")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å°†æ¯ä¸ªç‹¬ç«‹ç”¨æˆ·æ˜¯å¦è®¿é—®è¿‡ç½‘ç«™å­˜æ”¾åœ¨Bitmapsä¸­")]),s._v("\nsetbit unique:users:2016-04-05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿™å¤©ç”¨æˆ·0è®¿é—®äº†ç½‘ç«™")]),s._v("\nsetbit unique:users:2016-04-05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿™å¤©ç”¨æˆ·5è®¿é—®äº†ç½‘ç«™...")]),s._v("\ngetbit unique:users:2016-04-05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥è¯¢ç”¨æˆ·8è¿™å¤©æ˜¯å¦è®¿é—®è¿‡ç½‘ç«™")]),s._v("\nbitcount "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŸ¥è¯¢æŒ‡å®šèŒƒå›´1çš„ä¸ªæ•°")]),s._v("\nbitop "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("op")]),s._v(" destkey key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#äºŒè¿›åˆ¶æ“ä½œ,ä¸æˆ–éå¼‚æˆ–(and or not xor)")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åœºæ™¯: ç»Ÿè®¡10ä¸‡ç”¨æˆ·ä»»æ„æ—¶é—´çª—å£çš„ç™»å½•æƒ…å†µ ")]),s._v("\nSETBIT username "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®°å½•ç”¨æˆ·ç¬¬10å¤©çš„ç™»å½•")]),s._v("\nBITCOUNT username\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç»Ÿè®¡ç™»å½•æ•°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åœºæ™¯: æ´»åŠ¨å‰ç»Ÿè®¡æ´»è·ƒç”¨æˆ·, åƒµå°¸ç”¨æˆ·, æƒé™")]),s._v("\nSETBIT "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20200101")]),s._v(" ç”¨æˆ·id "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nBITCOUNT "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20200101")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç»Ÿè®¡å½“å¤©æ´»è·ƒç”¨æˆ·")]),s._v("\nBITOP or result "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20200101")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20200102")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åšæˆ–è¿ç®—ç»Ÿè®¡æ´»è·ƒç”¨æˆ·, æ³¢å½¢")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"hyperloglog-å‘å¸ƒè®¢é˜…-geo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hyperloglog-å‘å¸ƒè®¢é˜…-geo"}},[s._v("#")]),s._v(" HyperLogLog, å‘å¸ƒè®¢é˜…, GEO")]),s._v(" "),a("p",[s._v("ç•¥")]),s._v(" "),a("h2",{attrs:{id:"_04-å®¢æˆ·ç«¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_04-å®¢æˆ·ç«¯"}},[s._v("#")]),s._v(" 04. å®¢æˆ·ç«¯")]),s._v(" "),a("p",[s._v("redisåˆ¶å®šRESPé€šè®¯åè®®, ç®€å•é«˜æ•ˆ, å®¹æ˜“è¯†åˆ«")]),s._v(" "),a("h4",{attrs:{id:"jedisä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jedisä½¿ç”¨"}},[s._v("#")]),s._v(" Jedisä½¿ç”¨")]),s._v(" "),a("p",[s._v("ç•¥")]),s._v(" "),a("h4",{attrs:{id:"jedisè¿æ¥æ± "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jedisè¿æ¥æ± "}},[s._v("#")]),s._v(" Jedisè¿æ¥æ± ")]),s._v(" "),a("p",[s._v("JedisPoolè¿æ¥æ± , å¯ä»¥é™ä½å¼€é”€, ä¿æŠ¤æœºå™¨èµ„æºä¸è¢«æ»¥ç”¨; éš¾ç‚¹åœ¨äºåˆç†è§„åˆ’è¿æ¥æ± çš„å‚æ•°é…ç½®")]),s._v(" "),a("h4",{attrs:{id:"jedisä½¿ç”¨ç®¡é“-luaè„šæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jedisä½¿ç”¨ç®¡é“-luaè„šæœ¬"}},[s._v("#")]),s._v(" Jedisä½¿ç”¨ç®¡é“, Luaè„šæœ¬")]),s._v(" "),a("p",[s._v("ç•¥")]),s._v(" "),a("h3",{attrs:{id:"å®¢æˆ·ç«¯ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯ç®¡ç†"}},[s._v("#")]),s._v(" å®¢æˆ·ç«¯ç®¡ç†")]),s._v(" "),a("p",[s._v("å®¢æˆ·ç«¯ä¿¡æ¯, è¾“å…¥ç¼“å†²åŒºqbuf/qbuf-free, è¾“å‡ºç¼“å†²åŒºobl/oll/omem, å®¢æˆ·ç«¯ç±»å‹, monitorç›‘æ§, å®¢æˆ·ç«¯é…ç½®, å®¢æˆ·ç«¯å¸¸è§å¼‚å¸¸, å¸¸è§é—®é¢˜, æ¡ˆä¾‹åˆ†æ")]),s._v(" "),a("h2",{attrs:{id:"_05-æŒä¹…åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_05-æŒä¹…åŒ–"}},[s._v("#")]),s._v(" 05. æŒä¹…åŒ–")]),s._v(" "),a("p",[s._v("redisæ”¯æŒRDBå’ŒAOFä¸¤ç§æŒä¹…åŒ–æœºåˆ¶")]),s._v(" "),a("h3",{attrs:{id:"rdb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rdb"}},[s._v("#")]),s._v(" RDB")]),s._v(" "),a("p",[s._v("æŠŠå½“å‰è¿›ç¨‹æ•°æ®ç”Ÿæˆå¿«ç…§ä¿å­˜åˆ°ç¡¬ç›˜, ç‰¹ç‚¹æ˜¯å…¨é‡, æŒ‰æ—¶é—´ç‚¹å¤‡ä»½, ä½“ç§¯ä¸çœŸå®æ•°æ®ç›¸è¿‘, æ¢å¤é€Ÿåº¦è¾ƒå¿«(ä¸éœ€è¦cpuè®¡ç®—)")]),s._v(" "),a("h4",{attrs:{id:"è§¦å‘æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§¦å‘æœºåˆ¶"}},[s._v("#")]),s._v(" è§¦å‘æœºåˆ¶")]),s._v(" "),a("ol",[a("li",[s._v("æ‰‹åŠ¨è§¦å‘: save(é˜»å¡) å’Œ bgsave(éé˜»å¡)\n"),a("ul",[a("li",[s._v("bgsave: forkå‡ºå­è¿›ç¨‹ç”ŸæˆRDB")])])]),s._v(" "),a("li",[s._v("è‡ªåŠ¨è§¦å‘: ä½¿ç”¨é…ç½®, ä»èŠ‚ç‚¹å¤åˆ¶...")])]),s._v(" "),a("h4",{attrs:{id:"ç‰¹ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç‰¹ç‚¹"}},[s._v("#")]),s._v(" ç‰¹ç‚¹")]),s._v(" "),a("ul",[a("li",[s._v("ç´§å‡‘å‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶, é€‚ç”¨äºå¤‡ä»½, å…¨é‡å¤åˆ¶, æ¢å¤æ•°æ®é€Ÿåº¦å¿«")]),s._v(" "),a("li",[s._v("æ²¡åŠæ³•åšåˆ°å®æ—¶æŒä¹…åŒ–, æ–°è€ç‰ˆæœ¬RDBä¸å…¼å®¹")]),s._v(" "),a("li",[s._v("forkå, å†…å­˜ä¼šè¢«å…‹éš†, è¦è€ƒè™‘å†…å­˜è†¨èƒ€")])]),s._v(" "),a("h3",{attrs:{id:"aof"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aof"}},[s._v("#")]),s._v(" AOF")]),s._v(" "),a("p",[s._v("append only fileæŒä¹…åŒ–: ä»¥ç‹¬ç«‹æ—¥å¿—çš„æ–¹å¼è®°å½•(è¡Œä¸ºè®°å½•), è¶‹å‘äºå®æ—¶æ€§")]),s._v(" "),a("h4",{attrs:{id:"aofæµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aofæµç¨‹"}},[s._v("#")]),s._v(" AOFæµç¨‹")]),s._v(" "),a("p",[s._v("æ‰€æœ‰å†™å…¥çš„å‘½ä»¤éƒ½è¿½åŠ åˆ°aof_bufç¼“å†²åŒº, æ ¹æ®ç­–ç•¥è¿›è¡ŒåŒæ­¥æ“ä½œ")]),s._v(" "),a("p",[s._v("write: è§¦å‘å»¶æ—¶å†™: å°†è¾“å…¥å†™å…¥linuxå†…æ ¸ç¼“å†²åŒº, æ ¹æ®æ“ä½œç³»ç»Ÿé…ç½®åŒæ­¥åˆ°ç£ç›˜")]),s._v(" "),a("p",[s._v("fsync: å¼ºåˆ¶ç¡¬ç›˜åŒæ­¥: é˜»å¡å†™å…¥ç¡¬ç›˜åè¿”å›")]),s._v(" "),a("h4",{attrs:{id:"rewriteé‡å†™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rewriteé‡å†™"}},[s._v("#")]),s._v(" rewriteé‡å†™")]),s._v(" "),a("p",[s._v("ç”±äºAOFæ—¥å¿—æ–‡ä»¶è¶Šæ¥è¶Šå¤§, rewriteé€šè¿‡åˆ é™¤æ— æ•ˆå‘½ä»¤, æ•´åˆå¤šæ¡å‘½ä»¤æ¥å‡å°æ—¥å¿—size")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("bgrewriteaof\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ‰‹åŠ¨è§¦å‘")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è‡ªåŠ¨è§¦å‘åˆ™ä½¿ç”¨é…ç½®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#auto-aof-rewrite-min-size\t\tè§¦å‘é‡å†™æœ€å°ä½“ç§¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#auto-aof-rewrite-percentage\tå’Œä¸Šæ¬¡é‡å†™åAOFæ–‡ä»¶ç©ºé—´æ¯”å€¼")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿˜æœ‰aof_current_sizeå’Œaof_base_sizeä¸¤ä¸ªç»Ÿè®¡ä¿¡æ¯")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"é‡å¯åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡å¯åŠ è½½"}},[s._v("#")]),s._v(" é‡å¯åŠ è½½")]),s._v(" "),a("p",[s._v("ä¼˜å…ˆåŠ è½½AOFæ–‡ä»¶, å¦‚æœAOFä¸å­˜åœ¨, åŠ è½½RDBæ–‡ä»¶, å¦‚æœæ–‡ä»¶å­˜åœ¨é”™è¯¯, å¯åŠ¨å¤±è´¥")]),s._v(" "),a("p",[s._v("æ–‡ä»¶æ ¡éªŒ-æ‰‹åŠ¨ä¿®æ”¹, è‡ªåŠ¨å¿½ç•¥")]),s._v(" "),a("h4",{attrs:{id:"é—®é¢˜å®šä½ä¸ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜å®šä½ä¸ä¼˜åŒ–"}},[s._v("#")]),s._v(" é—®é¢˜å®šä½ä¸ä¼˜åŒ–")]),s._v(" "),a("p",[s._v("forkæ“ä½œ, å­è¿›ç¨‹, å†…å­˜, ç¡¬ç›˜, AOFè¿½åŠ é˜»å¡, åŒæœºå™¨å¤šå®ä¾‹éƒ¨ç½²æ—¶å¼€å¯AOFé‡å†™")]),s._v(" "),a("h4",{attrs:{id:"aofç‰¹ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aofç‰¹ç‚¹"}},[s._v("#")]),s._v(" AOFç‰¹ç‚¹")]),s._v(" "),a("ol",[a("li",[s._v("è¶‹äºå®æ—¶æ€§, æœ€å¤šä¸¢å¤±ä¸¤ç§’æ•°æ®")]),s._v(" "),a("li",[s._v("æ—¥å¿—æ–‡ä»¶å¤ªå¤§, AOFè¿½åŠ é˜»å¡, æ¢å¤æ•°æ®è¾ƒæ…¢")])]),s._v(" "),a("h4",{attrs:{id:"æŒä¹…åŒ–æ¨è"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŒä¹…åŒ–æ¨è"}},[s._v("#")]),s._v(" æŒä¹…åŒ–æ¨è")]),s._v(" "),a("p",[s._v("å¦‚æœé‡å¯redisæ•°æ®å…¨éƒ¨ä¸¢å¤±? å¦‚æœç¼“å­˜ä¸è¦æ±‚å¼ºä¸€è‡´æ€§å¯ä»¥ç”¨æœ€å¿«çš„æŒä¹…åŒ–æ–¹æ¡ˆ, æˆ–ç½‘ç»œå¼‚åœ°ä¸»ä»å¤‡ (ç”¨ä¸»ä»åšæ•°æ®å¤‡ä»½)")]),s._v(" "),a("h2",{attrs:{id:"_06-å¤åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_06-å¤åˆ¶"}},[s._v("#")]),s._v(" 06. å¤åˆ¶")]),s._v(" "),a("p",[s._v("æ¦‚è¿°: ä¸ºäº†è§£å†³å•ç‚¹é—®é¢˜è€ŒæŠŠæ•°æ®å¤åˆ¶å¤šä¸ªå‰¯æœ¬éƒ¨ç½²åˆ°å…¶ä»–æœºå™¨, æ»¡è¶³æ•…éšœæ¢å¤å’Œè´Ÿè½½å‡è¡¡ç­‰éœ€æ±‚; redisæœ¬èº«æä¾›äº†å¤åˆ¶åŠŸèƒ½")]),s._v(" "),a("h4",{attrs:{id:"redisä¸»ä»å¤åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisä¸»ä»å¤åˆ¶"}},[s._v("#")]),s._v(" redisä¸»ä»å¤åˆ¶")]),s._v(" "),a("p",[s._v("redisåˆ†ä¸»ä»èŠ‚ç‚¹, å•ä¸»å¤šä»")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("slaveof "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("masterHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("masterPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å»ºç«‹å¤åˆ¶no one")]),s._v("\nslaveof no one\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ–­å¼€å¤åˆ¶, æˆä¸ºä¸»èŠ‚ç‚¹\t#åˆ‡ä¸»")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å®‰å…¨æ€§, ä¸»èŠ‚ç‚¹è®¾ç½®å¯†ç , ä»èŠ‚ç‚¹é…ç½®å¯†ç æ‰èƒ½æ­£ç¡®è¿æ¥")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åªè¯», ä¸ºä¿è¯æ•°æ®ä¸€è‡´, ä»èŠ‚ç‚¹å¿…é¡»åªè¯»")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä¼ è¾“å»¶è¿Ÿ, repl-disable-tcp-nodelayå‚æ•°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ‹“æ‰‘: ä¸€ä¸»ä¸€ä», ä¸€ä¸»å¤šä», æ ‘çŠ¶ä¸»ä»")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"å¤åˆ¶åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤åˆ¶åŸç†"}},[s._v("#")]),s._v(" å¤åˆ¶åŸç†")]),s._v(" "),a("ol",[a("li",[s._v("ä¿å­˜ä¸»èŠ‚ç‚¹ ip, port ä¿¡æ¯")]),s._v(" "),a("li",[s._v("ä¸»ä»å»ºç«‹socketè¿æ¥")]),s._v(" "),a("li",[s._v("å‘é€pingå‘½ä»¤, æ£€æµ‹socketæ˜¯å¦å¯ç”¨")]),s._v(" "),a("li",[s._v("æƒé™éªŒè¯")]),s._v(" "),a("li",[s._v("åŒæ­¥æ•°æ®é›†, é¦–æ¬¡è¿æ¥å¼€å§‹å¤åˆ¶, é¦–æ¬¡ä¸€èˆ¬æ˜¯å…¨é‡å¤åˆ¶ sync/psync")]),s._v(" "),a("li",[s._v("åç»­å‘½ä»¤æŒç»­å¤åˆ¶")])]),s._v(" "),a("h4",{attrs:{id:"psync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#psync"}},[s._v("#")]),s._v(" psync")]),s._v(" "),a("p",[s._v("redis2.8å¼€å§‹ä½¿ç”¨psyncå®Œæˆä¸»ä»åŒæ­¥")]),s._v(" "),a("ol",[a("li",[s._v("å¤åˆ¶åç§»é‡")]),s._v(" "),a("li",[s._v("å¤åˆ¶ç§¯å‹ç¼“å†²åŒº")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹è¿è¡ŒID")]),s._v(" "),a("li",[s._v("ä½¿ç”¨ psync å‘½ä»¤å®Œæˆéƒ¨åˆ†å¤åˆ¶å’Œå…¨é‡å¤åˆ¶")])]),s._v(" "),a("h4",{attrs:{id:"å…¨é‡å¤åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¨é‡å¤åˆ¶"}},[s._v("#")]),s._v(" å…¨é‡å¤åˆ¶")]),s._v(" "),a("ol",[a("li",[s._v("é¦–æ¬¡å¤åˆ¶, å‘é€psync-1")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹æ”¶åˆ°å‘½ä»¤å¹¶å›å¤+FULLRESYNCå“åº”")]),s._v(" "),a("li",[s._v("ä»èŠ‚ç‚¹æ¥æ”¶å“åº”æ•°æ®")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹æ‰§è¡Œbgsaveä¿å­˜RDB")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹å‘é€RDBæ–‡ä»¶ç»™ä»èŠ‚ç‚¹, ä»èŠ‚ç‚¹æ¥æ”¶å¹¶ä¿å­˜è‡³æœ¬åœ°")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹åœ¨ä¼ é€’RDBæ–‡ä»¶æœŸé—´ä¾ç„¶æ¥æ”¶æŒ‡ä»¤, è¿™äº›æŒ‡ä»¤å°†ä¿å­˜åœ¨ç¼“å†²åŒº (å¦‚æœä¼ è¾“æ—¶é—´è¿‡é•¿å¯¼è‡´ç¼“å†²åŒºæº¢å‡ºä¼šå¤åˆ¶å¤±è´¥), ä»èŠ‚ç‚¹æ¥æ”¶å¹¶åŠ è½½å®Œæ¯•RDBå, å†æŠŠç¼“å†²åŒºå†…æ•°æ®å‘é€ç»™ä»èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("ä»èŠ‚ç‚¹æ¸…ç©ºè‡ªèº«æ—§æ•°æ®")]),s._v(" "),a("li",[s._v("ä»èŠ‚ç‚¹å¼€å§‹åŠ è½½RDB")]),s._v(" "),a("li",[s._v("ä»èŠ‚ç‚¹åŠ è½½å®ŒRDBå, æŸ¥çœ‹AOFæ˜¯å¦å¼€å¯, å†³å®šæ˜¯å¦æ‰§è¡Œbgrewriteaof")])]),s._v(" "),a("p",[s._v("æ€»ç»“: æ…¢")]),s._v(" "),a("h4",{attrs:{id:"éƒ¨åˆ†å¤åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨åˆ†å¤åˆ¶"}},[s._v("#")]),s._v(" éƒ¨åˆ†å¤åˆ¶")]),s._v(" "),a("ol",[a("li",[s._v("å½“ä¸»ä»èŠ‚ç‚¹å‡ºç°ç½‘ç»œä¸­æ–­, è¶…æ—¶")]),s._v(" "),a("li",[s._v("ä¸»ä»ä¸­æ–­æœŸé—´, ä¸»èŠ‚ç‚¹åœ¨ç¼“å†²åŒºä¿å­˜æœ€è¿‘ä¸€æ®µæ—¶é—´çš„å†™å‘½ä»¤")]),s._v(" "),a("li",[s._v("ä¸»ä»ç½‘ç»œæ¢å¤å, ä»èŠ‚ç‚¹å°†åŸæ¥ä¿å­˜çš„å¤åˆ¶åç§»é‡å’Œä¸»èŠ‚ç‚¹è¿è¡Œidå‘é€ç»™ä¸»èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("é€æ¸ç‚¹æ£€æŸ¥å‚æ•°, è¿”å›+CONTINUEå“åº”")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹æ ¹æ®åç§»é‡æŠŠå¤åˆ¶ç§¯å‹ç¼“å†²åŒºé‡Œçš„æ•°æ®å‘é€ç»™ä»èŠ‚ç‚¹")])]),s._v(" "),a("h4",{attrs:{id:"å¿ƒè·³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¿ƒè·³"}},[s._v("#")]),s._v(" å¿ƒè·³")]),s._v(" "),a("p",[s._v("ä¸»ä»èŠ‚ç‚¹åœ¨å»ºç«‹å¤åˆ¶å, å®ƒä»¬ä¹‹é—´ç»´æŠ¤é•¿è¿æ¥å¹¶å½¼æ­¤å‘é€å¿ƒè·³")]),s._v(" "),a("ol",[a("li",[s._v("ä¸»ä»äº’ä¸ºå¯¹æ–¹çš„å®¢æˆ·ç«¯å‘é€å‘½ä»¤")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹é»˜è®¤10ç§’å¯¹ä»èŠ‚ç‚¹å‘é€pingå‘½ä»¤, æ£€æµ‹ä»èŠ‚ç‚¹å­˜æ´»çŠ¶æ€")]),s._v(" "),a("li",[s._v("ä»èŠ‚ç‚¹æ¯ä¸ª1ç§’å‘é€ä¸»èŠ‚ç‚¹replconf ack{offset}å‘½ä»¤, ä¸ŠæŠ¥å½“å‰å¤åˆ¶åç§»é‡")])]),s._v(" "),a("h4",{attrs:{id:"å¼‚æ­¥å¤åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ­¥å¤åˆ¶"}},[s._v("#")]),s._v(" å¼‚æ­¥å¤åˆ¶")]),s._v(" "),a("p",[s._v("æ¦‚è¿°: ä¸»èŠ‚ç‚¹ä¸ä½†è´Ÿè´£æ•°æ®è¯»å†™, è¿˜è´Ÿè´£æŠŠå†™å‘½ä»¤åŒæ­¥ç»™ä»èŠ‚ç‚¹; å†™å‘½ä»¤çš„å‘é€æ˜¯å¼‚æ­¥çš„: ä¸»èŠ‚ç‚¹è‡ªèº«å¤„ç†å®Œæ¯•åç›´æ¥è¿”å›å®¢æˆ·ç«¯, å¹¶ä¸ç­‰å¾…ä»èŠ‚ç‚¹å¤åˆ¶å®Œæˆ")]),s._v(" "),a("p",[s._v("æ­£å¸¸æƒ…å†µä¸‹å»¶è¿Ÿåœ¨1ç§’ä»¥å†…")]),s._v(" "),a("h3",{attrs:{id:"é—®é¢˜è§£å†³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜è§£å†³"}},[s._v("#")]),s._v(" é—®é¢˜è§£å†³")]),s._v(" "),a("h4",{attrs:{id:"è¯»å†™åˆ†ç¦»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯»å†™åˆ†ç¦»"}},[s._v("#")]),s._v(" è¯»å†™åˆ†ç¦»")]),s._v(" "),a("ol",[a("li",[s._v("æ•°æ®å»¶è¿Ÿ: ä½¿ç”¨monitorç›‘æ§ä¸»ä», é¿å…å¤åˆ¶åç§»é‡è¿‡å¤§")]),s._v(" "),a("li",[s._v("è¯»åˆ°è¿‡æœŸæ•°æ®:\n"),a("ul",[a("li",[a("strong",[s._v("æƒ°æ€§åˆ é™¤")]),s._v(": æ¯æ¬¡è¯»å–å‘½ä»¤æ—¶ä¼šæ£€æŸ¥keyæ˜¯å¦è¶…æ—¶, å¦‚æœè¶…æ—¶ä¼šæ‰§è¡Œdelåˆ é™¤key")]),s._v(" "),a("li",[a("strong",[s._v("å®šæœŸåˆ é™¤")]),s._v(": redisä¸»èŠ‚ç‚¹å®šæ—¶å¾ªç¯é‡‡æ ·ä¸€å®šæ•°é‡çš„key, å¦‚æœè¿‡æœŸå°†æ‰§è¡Œdel")]),s._v(" "),a("li",[s._v("ä»¥ä¸Šä¸¤ä¸ªæ“ä½œä¼šåŒæ­¥ç»™ä»èŠ‚ç‚¹, å¦‚æœä»èŠ‚ç‚¹è¿˜æœªæ”¶åˆ°delå‘½ä»¤, å­˜åœ¨ä¸»ä»ä¸ä¸€è‡´ç°è±¡, redis3.2è§£å†³äº†è¯¥é—®é¢˜")])])]),s._v(" "),a("li",[s._v("ä»èŠ‚ç‚¹æ•…éšœ\n"),a("ul",[a("li",[s._v("éœ€è¦å®¢æˆ·ç«¯ç»´æŠ¤å¯ç”¨ä»èŠ‚ç‚¹åˆ—è¡¨, å½“ä»èŠ‚ç‚¹æ•…éšœæ—¶ç«‹åˆ»åˆ‡æ¢åˆ°å…¶ä»–èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("æ€»ç»“: ä¸æ¨èä¸»ä», æ¨èä¼˜åŒ–ä¸»èŠ‚ç‚¹, æˆ–è€…ä½¿ç”¨Redis Clusteråˆ†å¸ƒå¼æ–¹æ¡ˆ")])])])]),s._v(" "),a("h4",{attrs:{id:"ä¸»ä»é…ç½®ä¸ä¸€è‡´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»ä»é…ç½®ä¸ä¸€è‡´"}},[s._v("#")]),s._v(" ä¸»ä»é…ç½®ä¸ä¸€è‡´")]),s._v(" "),a("p",[s._v("çœ‹é…ç½®")]),s._v(" "),a("h4",{attrs:{id:"è§„é¿å…¨é‡å¤åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§„é¿å…¨é‡å¤åˆ¶"}},[s._v("#")]),s._v(" è§„é¿å…¨é‡å¤åˆ¶")]),s._v(" "),a("h4",{attrs:{id:"è§„é¿å¤åˆ¶é£æš´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§„é¿å¤åˆ¶é£æš´"}},[s._v("#")]),s._v(" è§„é¿å¤åˆ¶é£æš´")]),s._v(" "),a("p",[s._v("ç•¥")]),s._v(" "),a("h2",{attrs:{id:"_07-redisé˜»å¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_07-redisé˜»å¡"}},[s._v("#")]),s._v(" 07. redisé˜»å¡")]),s._v(" "),a("h4",{attrs:{id:"å‘ç°é˜»å¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘ç°é˜»å¡"}},[s._v("#")]),s._v(" å‘ç°é˜»å¡")]),s._v(" "),a("p",[s._v("redisè¿æ¥å¼‚å¸¸æ—¶, æ‰“å°è¿æ¥å®ä¾‹çš„ipå·å’Œç«¯å£å·, ä½¿ç”¨redisç›‘æ§ç³»ç»Ÿ")]),s._v(" "),a("h4",{attrs:{id:"å†…åœ¨åŸå› "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…åœ¨åŸå› "}},[s._v("#")]),s._v(" å†…åœ¨åŸå› ")]),s._v(" "),a("ol",[a("li",[s._v("APIå’Œæ•°æ®ç»“æœä½¿ç”¨ä¸åˆç†")]),s._v(" "),a("li",[s._v("CPUé¥±å’Œ")]),s._v(" "),a("li",[s._v("æŒä¹…åŒ–ç›¸å…³é˜»å¡")])]),s._v(" "),a("h4",{attrs:{id:"å¤–åœ¨åŸå› "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤–åœ¨åŸå› "}},[s._v("#")]),s._v(" å¤–åœ¨åŸå› ")]),s._v(" "),a("ol",[a("li",[s._v("CPUç«äº‰")]),s._v(" "),a("li",[s._v("å†…å­˜äº¤æ¢")]),s._v(" "),a("li",[s._v("ç½‘ç»œé—®é¢˜")])]),s._v(" "),a("h2",{attrs:{id:"_08-ç†è§£å†…å­˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_08-ç†è§£å†…å­˜"}},[s._v("#")]),s._v(" 08. ç†è§£å†…å­˜")]),s._v(" "),a("h4",{attrs:{id:"å†…å­˜æ¶ˆè€—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜æ¶ˆè€—"}},[s._v("#")]),s._v(" å†…å­˜æ¶ˆè€—")]),s._v(" "),a("ul",[a("li",[s._v("å†…å­˜ä½¿ç”¨ç»Ÿè®¡")]),s._v(" "),a("li",[s._v("å†…å­˜åˆ†ç±»")]),s._v(" "),a("li",[s._v("å­è¿›ç¨‹æ¶ˆè€—å†…å­˜")])]),s._v(" "),a("h4",{attrs:{id:"å†…å­˜ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜ç®¡ç†"}},[s._v("#")]),s._v(" å†…å­˜ç®¡ç†")]),s._v(" "),a("ul",[a("li",[s._v("è®¾ç½®å†…å­˜ä¸Šé™, åŠ¨æ€è°ƒæ•´å†…å­˜ä¸Šé™")]),s._v(" "),a("li",[s._v("å†…å­˜å›æ”¶ç­–ç•¥")])]),s._v(" "),a("h4",{attrs:{id:"å†…å­˜å›æ”¶ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜å›æ”¶ç­–ç•¥"}},[s._v("#")]),s._v(" å†…å­˜å›æ”¶ç­–ç•¥")]),s._v(" "),a("h5",{attrs:{id:"åˆ é™¤è¿‡æœŸkey"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤è¿‡æœŸkey"}},[s._v("#")]),s._v(" åˆ é™¤è¿‡æœŸkey")]),s._v(" "),a("p",[s._v("æƒ°æ€§åˆ é™¤: åŸºäºCPUæˆæœ¬è€ƒè™‘, ä½†æ˜¯å­˜åœ¨å†…å­˜æ³„æ¼")]),s._v(" "),a("p",[s._v("å®šæ—¶ä»»åŠ¡åˆ é™¤: redisç»´æŠ¤çš„å®šæ—¶ä»»åŠ¡, é»˜è®¤æ¯ç§’è¿è¡Œ10æ¬¡, å¹¶é‡‡ç”¨è‡ªé€‚åº”ç®—æ³•")]),s._v(" "),a("p",[s._v("å®šæ—¶ä»»åŠ¡æµç¨‹:")]),s._v(" "),a("ol",[a("li",[s._v("åœ¨æ¯ä¸ªæ•°æ®åº“éšæœºæ£€æŸ¥20ä¸ªkey, å‘ç°è¿‡æœŸå°±åˆ é™¤")]),s._v(" "),a("li",[s._v("å¦‚æœè¶…è¿‡25%çš„keyè¿‡æœŸ, å¾ªç¯æ­¥éª¤1ç›´åˆ°è¿‡æœŸkeyå æ¯”ä¸è¶³25%æˆ–è¿è¡Œè¶…æ—¶(25ms)")]),s._v(" "),a("li",[s._v("å¦‚æœæ­¥éª¤2è¶…æ—¶, è§¦å‘å¿«æ¨¡å¼è¿›è¡Œå›æ”¶, è¶…æ—¶æ—¶é—´1msä¸”2ç§’å†…åªè¿è¡Œä¸€æ¬¡")])]),s._v(" "),a("h4",{attrs:{id:"å†…å­˜æº¢å‡ºæ§åˆ¶ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜æº¢å‡ºæ§åˆ¶ç­–ç•¥"}},[s._v("#")]),s._v(" å†…å­˜æº¢å‡ºæ§åˆ¶ç­–ç•¥")]),s._v(" "),a("p",[s._v("redisä½¿ç”¨å†…å­˜è¾¾åˆ° maxmemory è§¦å‘ç›¸å…³ç­–ç•¥, redisæ”¯æŒä»¥ä¸‹æ¨¡å¼")]),s._v(" "),a("ol",[a("li",[s._v("noeviction(é»˜è®¤): ä¸åˆ é™¤ä»»ä½•æ•°æ®, æ‹’ç»å†™å…¥æ“ä½œ")]),s._v(" "),a("li",[s._v("volatile-lru: æŒ‰LRUç®—æ³•åˆ é™¤è®¾ç½®äº†è¶…æ—¶æ—¶é—´çš„key, ç›´åˆ°è…¾å‡ºè¶³å¤Ÿç©ºé—´")]),s._v(" "),a("li",[s._v("allkeys-lru: æŒ‰LRUåˆ é™¤key(ä¸ç®¡æœ‰æ²¡æœ‰è®¾ç½®è¶…æ—¶æ—¶é—´)")]),s._v(" "),a("li",[s._v("allkeys-random: éšæœºåˆ é™¤ä»»æ„key")]),s._v(" "),a("li",[s._v("volatile-random: éšæœºåˆ é™¤è®¾ç½®è¶…æ—¶æ—¶é—´çš„key")]),s._v(" "),a("li",[s._v("volatile-ttl: æ ¹æ®ttlåˆ é™¤æœ€å¿«è¿‡æœŸçš„æ•°æ®")])]),s._v(" "),a("p",[s._v("LRU: æœ€è¿‘æœ€å°‘ä½¿ç”¨: æ¯ä¸ªkeyæ‹¥æœ‰ä¸€ä¸ªLRUè®¡æ—¶, æ·˜æ±°æœ€ä¹…æ²¡è¢«è®¿é—®çš„")]),s._v(" "),a("p",[s._v("LFU: æœ€ä¸ç»å¸¸ä½¿ç”¨: æ ¹æ®æ¯ä¸ªkeyçš„è®¿é—®æ¬¡æ•°, æ·˜æ±°æœ€å°‘è®¿é—®çš„")]),s._v(" "),a("h3",{attrs:{id:"å†…å­˜ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜ä¼˜åŒ–"}},[s._v("#")]),s._v(" å†…å­˜ä¼˜åŒ–")]),s._v(" "),a("h4",{attrs:{id:"redisobjectå¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisobjectå¯¹è±¡"}},[s._v("#")]),s._v(" redisObjectå¯¹è±¡")]),s._v(" "),a("p",[s._v("rediså­˜å‚¨çš„æ‰€æœ‰å€¼å¯¹è±¡å®šä¹‰ä¸ºredisObjectç»“æ„ä½“, å…¶ä¸­å½“valueä¸ºå­—ç¬¦ä¸²ç±»å‹æ—¶, å°½é‡ä¿æŒå°äº39å­—èŠ‚")]),s._v(" "),a("h4",{attrs:{id:"ç¼©å‡é”®å€¼å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼©å‡é”®å€¼å¯¹è±¡"}},[s._v("#")]),s._v(" ç¼©å‡é”®å€¼å¯¹è±¡")]),s._v(" "),a("ul",[a("li",[s._v("ç¼©å‡ key å’Œ value çš„é•¿åº¦")]),s._v(" "),a("li",[s._v("ä½¿ç”¨é«˜æ•ˆåºåˆ—åŒ–å·¥å…·: protostuff/kryo; javaè‡ªå¸¦åºåˆ—åŒ–å‹ç¼©æ•ˆæœå·®, é€Ÿåº¦è¾£é¸¡")])]),s._v(" "),a("h4",{attrs:{id:"å…±äº«å¯¹è±¡æ± "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…±äº«å¯¹è±¡æ± "}},[s._v("#")]),s._v(" å…±äº«å¯¹è±¡æ± ")]),s._v(" "),a("p",[s._v("rediså†…éƒ¨ç»´æŠ¤äº†[0-9999]çš„æ•´æ•°å¯¹è±¡, æ¨èå¤šä½¿ç”¨æ•´æ•°å¯¹è±¡")]),s._v(" "),a("h4",{attrs:{id:"å­—ç¬¦ä¸²ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—ç¬¦ä¸²ä¼˜åŒ–"}},[s._v("#")]),s._v(" å­—ç¬¦ä¸²ä¼˜åŒ–")]),s._v(" "),a("p",[s._v("å­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„")]),s._v(" "),a("h4",{attrs:{id:"å­—ç¬¦ä¸²ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—ç¬¦ä¸²ç»“æ„"}},[s._v("#")]),s._v(" å­—ç¬¦ä¸²ç»“æ„")]),s._v(" "),a("p",[s._v("redisè‡ªå·±å®ç°äº†å­—ç¬¦ä¸²ç»“æ„, ç®€å•åŠ¨æ€å­—ç¬¦ä¸²SDS(simple dynamic string)")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("len å·²ç”¨å­—èŠ‚é•¿åº¦")])]),s._v(" "),a("li",[a("p",[s._v("free æœªç”¨å­—èŠ‚é•¿åº¦")])]),s._v(" "),a("li",[a("p",[s._v("buf[] å­—èŠ‚æ•°ç»„")])]),s._v(" "),a("li",[a("p",[s._v("ç”¨äºä¿å­˜å­—èŠ‚æ•°ç»„, å®‰å…¨çš„äºŒè¿›åˆ¶å­˜å‚¨")])]),s._v(" "),a("li",[a("p",[s._v("å†…éƒ¨å®ç°ç©ºé—´é¢„åˆ†é…æœºåˆ¶: é¿å…å†…å­˜é¢‘ç¹åˆ†é…")])]),s._v(" "),a("li",[a("p",[s._v("æƒ°æ€§åˆ é™¤æœºåˆ¶: ç¼©å‡åç©ºé—´ä¸é‡Šæ”¾, ä½œä¸ºé¢„åˆ†é…ç©ºé—´")])])]),s._v(" "),a("h4",{attrs:{id:"é¢„åˆ†é…æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¢„åˆ†é…æœºåˆ¶"}},[s._v("#")]),s._v(" é¢„åˆ†é…æœºåˆ¶")]),s._v(" "),a("ol",[a("li",[s._v("ç¬¬ä¸€æ¬¡åˆ›å»ºå·²ç”¨å­—èŠ‚é•¿åº¦ç­‰äºå®é™…å¤§å°, æœªç”¨å­—èŠ‚é•¿åº¦ç­‰äº0, å³ä¸åšé¢„åˆ†é…")]),s._v(" "),a("li",[s._v("ä¿®æ”¹åå¦‚æœfreeç©ºé—´ä¸å¤Ÿä¸”æ•°æ®å°äº1MB, æ¯æ¬¡é¢„åˆ†é…ä¸€å€å®¹é‡\n"),a("ul",[a("li",[s._v("60, 0 >>>> 120, 120")])])]),s._v(" "),a("li",[s._v("ä¿®æ”¹åfreeç©ºé—´ä¸å¤Ÿä¸”æ•°æ®å¤§äº1MB, æ¯æ¬¡é¢„åˆ†é…1MBæ•°æ®")])]),s._v(" "),a("h4",{attrs:{id:"å­—ç¬¦ä¸²é‡æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—ç¬¦ä¸²é‡æ„"}},[s._v("#")]),s._v(" å­—ç¬¦ä¸²é‡æ„")]),s._v(" "),a("p",[s._v("ä½¿ç”¨hashå­˜å‚¨jsonæ ¼å¼å­—ç¬¦ä¸², åŒæ—¶ä¿®æ”¹é…ç½®ä¿è¯hashå†…éƒ¨ç¼–ç ä¸ºziplist, å¯ä»¥å‡å°‘å†…å­˜å ç”¨")]),s._v(" "),a("h4",{attrs:{id:"ç¼–ç ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–ç ä¼˜åŒ–"}},[s._v("#")]),s._v(" ç¼–ç ä¼˜åŒ–")]),s._v(" "),a("ul",[a("li",[s._v("redisæƒ³é€šè¿‡ä¸åŒç¼–ç å®ç°æ•ˆç‡å’Œç©ºé—´çš„å¹³è¡¡")]),s._v(" "),a("li",[s._v("ç¼–ç ç±»å‹è½¬æ¢åœ¨å†™å…¥æ•°æ®æ—¶è‡ªåŠ¨å®Œæˆ, åªèƒ½ä»å°å†…å­˜ç¼–ç å‘å¤§å†…å­˜ç¼–ç è½¬æ¢")])]),s._v(" "),a("h4",{attrs:{id:"ziplistç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ziplistç¼–ç "}},[s._v("#")]),s._v(" ziplistç¼–ç ")]),s._v(" "),a("p",[s._v("ziplistç¼–ç ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†èŠ‚çº¦å†…å­˜, é‡‡ç”¨çº¿æ€§è¿ç»­çš„å†…å­˜ç»“æ„")]),s._v(" "),a("ul",[a("li",[s._v("zlbytes : è®°å½•æ•´ä¸ªziplistçš„å­—èŠ‚é•¿åº¦")]),s._v(" "),a("li",[s._v("zltail : è®°å½•tailçš„åç§»é‡, æ–¹ä¾¿pop")]),s._v(" "),a("li",[s._v("zllen : è®°å½•zipistèŠ‚ç‚¹æ•°é‡")]),s._v(" "),a("li",[s._v("entry-1 : å…·ä½“èŠ‚ç‚¹\n"),a("ul",[a("li",[s._v("prev_entry_bytes_length : å‰ä¸€ä¸ªèŠ‚ç‚¹æ‰€å ç©ºé—´, å¯ä»¥è§†ä¸ºprevæŒ‡é’ˆ")]),s._v(" "),a("li",[s._v("encoding : è¡¨ç¤ºå½“å‰èŠ‚ç‚¹ç¼–ç å’Œé•¿åº¦")]),s._v(" "),a("li",[s._v("contents : èŠ‚ç‚¹çš„value")])])]),s._v(" "),a("li",[s._v("entry-2 ....")]),s._v(" "),a("li",[s._v("zlend : ç»“å°¾æ ‡è®°")])]),s._v(" "),a("p",[s._v("ç‰¹ç‚¹: å¤§å¹…é™ä½å†…å­˜å ç”¨, ä½†æ˜¯å‘½ä»¤æ“ä½œæ›´è€—æ—¶")]),s._v(" "),a("h4",{attrs:{id:"intsetç¼–ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#intsetç¼–ç "}},[s._v("#")]),s._v(" intsetç¼–ç ")]),s._v(" "),a("ul",[a("li",[s._v("encoding : è¡¨ç¤ºç±»å‹, åˆ†ä¸º int-16, int-32, int-64, æ ¹æ®é•¿åº¦è‡ªåŠ¨å‡çº§")]),s._v(" "),a("li",[s._v("length : é›†åˆå…ƒç´ é•¿åº¦")]),s._v(" "),a("li",[s._v("contents : æ•´æ•°æ•°ç»„, ä»å°åˆ°å¤§é¡ºåºä¿å­˜")])]),s._v(" "),a("p",[s._v("å°½é‡ä¿æŒæ•´æ•°è¿”å›ä¸€è‡´")]),s._v(" "),a("h4",{attrs:{id:"æ§åˆ¶é”®çš„æ•°é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ§åˆ¶é”®çš„æ•°é‡"}},[s._v("#")]),s._v(" æ§åˆ¶é”®çš„æ•°é‡")]),s._v(" "),a("p",[s._v("å¯ä»¥æŠŠå¤§é‡keyåˆ†ç»„æ˜ å°„åˆ°å¤šä¸ªhashç»“æ„ä¸­é™ä½keyçš„æ•°é‡, æ¯”å¦‚å°†100ä¸‡ä¸ªkeyæ˜ å°„åˆ°1000ä¸ªhashä¸­, å¯ä»¥é…ç½®å‚æ•°åœ¨hashä¸­ä½¿ç”¨ziplistç¼–ç ")]),s._v(" "),a("h2",{attrs:{id:"_09-å“¨å…µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_09-å“¨å…µ"}},[s._v("#")]),s._v(" 09. å“¨å…µ")]),s._v(" "),a("p",[s._v("redisä¸»ä»å¤åˆ¶ä¸‹, å¦‚æœä¸»èŠ‚ç‚¹æ•…éšœå°†ä¸èƒ½æä¾›æœåŠ¡; redis2.8å¼€å§‹æä¾›äº† redis sentinel å“¨å…µæ¥è§£å†³è¿™ä¸ªé—®é¢˜")]),s._v(" "),a("h4",{attrs:{id:"è§£å†³ç—›ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³ç—›ç‚¹"}},[s._v("#")]),s._v(" è§£å†³ç—›ç‚¹")]),s._v(" "),a("ul",[a("li",[s._v("ä¸»èŠ‚ç‚¹æŒ‚äº†éœ€è¦äººä¸ºæ“ä½œä»èŠ‚ç‚¹, åˆ‡æ¢ä»èŠ‚ç‚¹çš„slaveof, é‡å¯æ—§ä¸»èŠ‚ç‚¹ä½œä¸ºä»èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("åˆ¤æ–­èŠ‚ç‚¹ä¸å¯è¾¾æ˜¯å¦æ ‡å‡†")]),s._v(" "),a("li",[s._v("é€šçŸ¥å®¢æˆ·ç«¯æ–°çš„ä¸»èŠ‚ç‚¹")])]),s._v(" "),a("p",[s._v("å½“ä¸»èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶, redis sentinel èƒ½è‡ªåŠ¨å®Œæˆæ•…éšœå‘ç°å’Œæ•…éšœè½¬ç§», å¹¶é€šçŸ¥åº”ç”¨æ–¹")]),s._v(" "),a("p",[s._v("æµç¨‹")]),s._v(" "),a("ol",[a("li",[s._v("sentinelèŠ‚ç‚¹å°†ç›‘æ§æ‰€æœ‰å…¶ä»–redisèŠ‚ç‚¹, å¹¶å®šæœŸæ£€æŸ¥å…¶ä»–èŠ‚ç‚¹æ˜¯å¦å¯ç”¨")]),s._v(" "),a("li",[s._v("ä¸»èŠ‚ç‚¹æŒ‚äº†, sentinelå‘ç°")]),s._v(" "),a("li",[s._v("å¤šä¸ªsentinelå¯¹ä¸»èŠ‚ç‚¹çš„æ•…éšœè¾¾æˆä¸€è‡´, åˆ™é€‰ä¸¾å‡ºä¸€ä¸ªsentinelèŠ‚ç‚¹è¿›è¡Œæ•…éšœè½¬ç§»")]),s._v(" "),a("li",[s._v("sentinel leaderæ‰§è¡Œæ•…éšœè½¬ç§»")]),s._v(" "),a("li",[s._v("å°†è½¬ç§»ç»“æœé€šçŸ¥åº”ç”¨æ–¹")])]),s._v(" "),a("h4",{attrs:{id:"sentinelå®é™…æ“ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sentinelå®é™…æ“ä½œ"}},[s._v("#")]),s._v(" sentinelå®é™…æ“ä½œ")]),s._v(" "),a("p",[s._v("ç•¥")]),s._v(" "),a("h4",{attrs:{id:"sentinelå®ç°åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sentinelå®ç°åŸç†"}},[s._v("#")]),s._v(" sentinelå®ç°åŸç†")]),s._v(" "),a("h4",{attrs:{id:"ä¸‰ä¸ªå®šæ—¶ç›‘æ§ä»»åŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ä¸ªå®šæ—¶ç›‘æ§ä»»åŠ¡"}},[s._v("#")]),s._v(" ä¸‰ä¸ªå®šæ—¶ç›‘æ§ä»»åŠ¡")]),s._v(" "),a("ol",[a("li",[s._v("æ¯éš”10ç§’, æ¯ä¸ªsentinelå‘ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹å‘é€infoå‘½ä»¤è·å–æœ€æ–°æ‹“æ‰‘ç»“æ„\n"),a("ul",[a("li",[s._v("infoä»ä¸»èŠ‚ç‚¹è·å–ä»èŠ‚ç‚¹ä¿¡æ¯")]),s._v(" "),a("li",[s._v("æœ‰æ–°çš„ä»èŠ‚ç‚¹åŠ å…¥å¯ä»¥ç«‹å³æ„ŸçŸ¥")]),s._v(" "),a("li",[s._v("èŠ‚ç‚¹æŒ‚æ‰å, é€šè¿‡infoå‘½ä»¤æ›´æ–°èŠ‚ç‚¹æ‹“æ‰‘ä¿¡æ¯")])])]),s._v(" "),a("li",[s._v("æ¯éš”2ç§’, æ¯ä¸ªsentinelå‘redisçš„ "),a("code",[s._v("__sentinel__é¢‘é“")]),s._v(" ä¸Šå‘é€å…¶ä¿¡æ¯ä»¥åŠå¯¹ä¸»èŠ‚ç‚¹çš„åˆ¤æ–­;  åŒæ—¶æ¯ä¸ªsentinelè®¢é˜…è¯¥é¢‘é“\n"),a("ul",[a("li",[s._v("å‘ç°æ–°çš„sentinelèŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("sentinelä¹‹é—´äº¤æ¢ä¸»èŠ‚ç‚¹çŠ¶æ€, ä½œä¸ºåç»­ä¸‹çº¿ä»¥åŠleaderé€‰ä¸¾çš„ä¾æ®")])])]),s._v(" "),a("li",[s._v("æ¯éš”1ç§’, æ¯ä¸ªsentinelå‘ä¸»èŠ‚ç‚¹, ä»èŠ‚ç‚¹, å…¶ä»–sentinelå‘é€pingå‘½ä»¤\n"),a("ul",[a("li",[s._v("ç¡®è®¤è¿™äº›èŠ‚ç‚¹æ˜¯å¦å¯è¾¾")])])])]),s._v(" "),a("h4",{attrs:{id:"ä¸»è§‚ä¸‹çº¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»è§‚ä¸‹çº¿"}},[s._v("#")]),s._v(" ä¸»è§‚ä¸‹çº¿")]),s._v(" "),a("p",[s._v("åœ¨pingå¿ƒè·³æ£€æµ‹æ—¶, èŠ‚ç‚¹è¶…è¿‡ down-after-milliseconds æ²¡æœ‰å›å¤, å°±è§†ä¸ºä¸»è§‚ä¸‹çº¿")]),s._v(" "),a("h4",{attrs:{id:"å®¢è§‚ä¸‹çº¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¢è§‚ä¸‹çº¿"}},[s._v("#")]),s._v(" å®¢è§‚ä¸‹çº¿")]),s._v(" "),a("p",[s._v("å½“sentinelä¸»è§‚ä¸‹çº¿ä¸»èŠ‚ç‚¹, sentinelä¼šé€šè¿‡å‘½ä»¤å‘å…¶ä»–sentinelæŠ•ç¥¨, è¶…è¿‡ä¸€å®šç¥¨æ•°, å°†å¯¹ä¸»èŠ‚ç‚¹è¿›è¡Œå®¢è§‚ä¸‹çº¿")]),s._v(" "),a("h4",{attrs:{id:"é¢†å¯¼è€…sentinelèŠ‚ç‚¹é€‰ä¸¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¢†å¯¼è€…sentinelèŠ‚ç‚¹é€‰ä¸¾"}},[s._v("#")]),s._v(" é¢†å¯¼è€…sentinelèŠ‚ç‚¹é€‰ä¸¾")]),s._v(" "),a("p",[s._v("å½“sentinelå¯¹ä¸»èŠ‚ç‚¹è¿›è¡Œå®¢è§‚ä¸‹çº¿, sentinelä¹‹é—´åšleaderé€‰ä¸¾çš„å·¥ä½œ, å†è®©leaderè¿›è¡Œæ•…éšœè½¬ç§»å·¥ä½œ;")]),s._v(" "),a("p",[s._v("redisä½¿ç”¨äº†Raftç®—æ³•å®ç°é¢†å¯¼è€…é€‰ä¸¾")]),s._v(" "),a("ol",[a("li",[s._v("sentinelç¡®è®¤ä¸»è§‚ä¸‹çº¿æ—¶, åˆ™ç«é€‰, å¹¶æ‹‰ç¥¨")]),s._v(" "),a("li",[s._v("æ”¶åˆ°æ‹‰ç¥¨çš„sentinelç›´æ¥åŒæ„")]),s._v(" "),a("li",[s._v("å¦‚æœæ‹‰ç¥¨çš„sentinelæ”¶åˆ°åŠæ•°é€‰ç¥¨, å½“é€‰ä¸ºleader")]),s._v(" "),a("li",[s._v("å¦‚æœé€‰ä¸¾å¤±è´¥åˆ™è¿›è¡Œä¸‹ä¸€æ¬¡é€‰ä¸¾")])]),s._v(" "),a("h4",{attrs:{id:"æ•…éšœè½¬ç§»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•…éšœè½¬ç§»"}},[s._v("#")]),s._v(" æ•…éšœè½¬ç§»")]),s._v(" "),a("ol",[a("li",[s._v("åœ¨ä»èŠ‚ç‚¹ä¸­é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹\n"),a("ol",[a("li",[s._v("è¿‡æ»¤ ä¸»è§‚ä¸‹çº¿, çŸ­ä¿¡, 5ç§’å†…æ²¡æœ‰å›å¤è¿‡sentinel, ä¸ä¸»èŠ‚ç‚¹å¤±è”10ç§’ä»¥ä¸Šçš„")]),s._v(" "),a("li",[s._v("é€‰æ‹©ä»èŠ‚ç‚¹ä¼˜å…ˆçº§æœ€é«˜çš„ä»èŠ‚ç‚¹åˆ—è¡¨")]),s._v(" "),a("li",[s._v("é€‰æ‹©å¤åˆ¶åç§»é‡æœ€å¤§çš„èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("é€‰æ‹©runidæœ€å°çš„ä»èŠ‚ç‚¹")])])]),s._v(" "),a("li",[s._v("å¯¹ä»èŠ‚ç‚¹æ‰§è¡Œslaveof no one")]),s._v(" "),a("li",[s._v("leaderå‘å‰©ä½™çš„ä»èŠ‚ç‚¹å‘é€slaveof, åˆ‡æ¢ä¸»èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("sentinelé›†ç¾¤å°†åŸæ¥çš„ä¸»èŠ‚ç‚¹æ›´æ–°ä¸ºä»èŠ‚ç‚¹, å½“å…¶å›å¤åå»slaveofæ–°ä¸»èŠ‚ç‚¹")])]),s._v(" "),a("h4",{attrs:{id:"å¼€å‘ä¸è¿ç»´ä¸­çš„é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘ä¸è¿ç»´ä¸­çš„é—®é¢˜"}},[s._v("#")]),s._v(" å¼€å‘ä¸è¿ç»´ä¸­çš„é—®é¢˜")]),s._v(" "),a("p",[s._v("æ•…éšœè½¬ç§»æ—¥å¿—åˆ†æ, èŠ‚ç‚¹è¿ç»´, è¯»å†™åˆ†ç¦»é«˜å¯ç”¨")]),s._v(" "),a("h2",{attrs:{id:"_10-é›†ç¾¤-redis-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-é›†ç¾¤-redis-cluster"}},[s._v("#")]),s._v(" 10. é›†ç¾¤ redis cluster")]),s._v(" "),a("p",[s._v("redis clusteræ˜¯redisçš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆ")]),s._v(" "),a("h3",{attrs:{id:"æ•°æ®åˆ†å¸ƒ-åˆ†åŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åˆ†å¸ƒ-åˆ†åŒº"}},[s._v("#")]),s._v(" æ•°æ®åˆ†å¸ƒ/åˆ†åŒº")]),s._v(" "),a("p",[s._v("åˆ†å¸ƒå¼æ•°æ®åº“é¦–å…ˆè¦æŠŠæ•°æ®åˆ†åŒºæ˜ å°„åˆ°å¤šä¸ªèŠ‚ç‚¹ä¸­, è®©æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£æ•´ä½“æ•°æ®çš„ä¸€ä¸ªå­é›†")]),s._v(" "),a("h4",{attrs:{id:"åˆ†åŒºè§„åˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†åŒºè§„åˆ™"}},[s._v("#")]),s._v(" åˆ†åŒºè§„åˆ™")]),s._v(" "),a("ol",[a("li",[s._v("å“ˆå¸Œåˆ†åŒº : redis cluster, cassandra")]),s._v(" "),a("li",[s._v("é¡ºåºåˆ†åŒº : Bigtable HBase")])]),s._v(" "),a("h4",{attrs:{id:"å“ˆå¸Œåˆ†åŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å“ˆå¸Œåˆ†åŒº"}},[s._v("#")]),s._v(" å“ˆå¸Œåˆ†åŒº")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("èŠ‚ç‚¹å–ä½™åˆ†åŒº")]),s._v(" : ç®€å•, ä¸€èˆ¬éœ€è¦æ ¹æ®æ•°æ®é‡è§„åˆ’é¢„åˆ†åŒº, ä¸€æ—¦éœ€è¦æ‰©å®¹éœ€è¦è¿ç§»æ•°æ®")]),s._v(" "),a("li",[a("strong",[s._v("ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒº")]),s._v(" "),a("ul",[a("li",[s._v("å– 0~2Â³Â² èŒƒå›´ä½œä¸ºå“ˆå¸Œç¯, ä¸ºæ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹å„åˆ†é…ä¸€ä¸ªhashå€¼;")]),s._v(" "),a("li",[s._v("keyè®¡ç®—å‡ºhashå, é¡ºæ—¶é’ˆå¯»æ‰¾åˆ°æœ€è¿‘çš„èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("ä¼˜åŠ¿åœ¨äºæ–°å¢èŠ‚ç‚¹ä¼šå½±å“ä¸€éƒ¨åˆ†æ•°æ®, å…¶ä»–èŠ‚ç‚¹ä¸å½±å“")]),s._v(" "),a("li",[s._v("å­˜åœ¨å“ˆå¸Œå€¾æ–œ; åˆ†å¸ƒå¼èŠ‚ç‚¹å¤šçš„æ•ˆæœæ›´å¥½")])])]),s._v(" "),a("li",[a("strong",[s._v("è™šæ‹Ÿæ§½åˆ†åŒº")]),s._v(" : ç”¨åˆ†æ•£åº¦å¥½çš„hashå°†æ•°æ®æ˜ å°„åˆ°å›ºå®šèŒƒå›´çš„æ•´æ•°é›†åˆä¸­\n"),a("ul",[a("li",[s._v("æ•´æ•°é›†åˆsizeè¿œè¿œå¤§äºåˆ†å¸ƒå¼èŠ‚ç‚¹æ•°é‡, æ–¹ä¾¿æ•°æ®æ‹†åˆ†å’Œé›†ç¾¤æ‰©å±•")]),s._v(" "),a("li",[s._v("redis clusteræ§½èŒƒå›´0-16383, å¦‚æœæœ‰5ä¸ªèŠ‚ç‚¹åˆ™æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£3276ä¸ªæ§½")])])])]),s._v(" "),a("h4",{attrs:{id:"redisæ•°æ®åˆ†åŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisæ•°æ®åˆ†åŒº"}},[s._v("#")]),s._v(" redisæ•°æ®åˆ†åŒº")]),s._v(" "),a("p",[s._v("redisé‡‡ç”¨è™šæ‹Ÿæ§½åˆ†åŒº, æ¯ä¸€ä¸ªèŠ‚ç‚¹è´Ÿè´£ç»´æŠ¤ä¸€éƒ¨åˆ†æ§½, æ‰€æœ‰çš„keyæ˜ å°„åˆ°è¿™äº›æ§½å†…")]),s._v(" "),a("p",[a("code",[s._v("slot=CRC16(key) & 16383")])]),s._v(" "),a("ul",[a("li",[s._v("è§£è€¦æ•°æ®å’ŒèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³», ç®€åŒ–äº†èŠ‚ç‚¹æ‰©å®¹å’Œç¼©å®¹çš„éš¾åº¦")]),s._v(" "),a("li",[s._v("èŠ‚ç‚¹è‡ªèº«ç»´æŠ¤æ§½çš„æ˜ å°„å…³ç³», ä¸éœ€è¦å…¶ä»–ä»£ç†æœåŠ¡ç»´æŠ¤")]),s._v(" "),a("li",[s._v("æ”¯æŒèŠ‚ç‚¹, æ§½, keyä¹‹é—´çš„æ˜ å°„æŸ¥è¯¢, ç”¨äºæ•°æ®è·¯ç”±, åœ¨çº¿ä¼¸ç¼©")])]),s._v(" "),a("h4",{attrs:{id:"redis-clusteré›†ç¾¤åŠŸèƒ½é™åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-clusteré›†ç¾¤åŠŸèƒ½é™åˆ¶"}},[s._v("#")]),s._v(" redis clusteré›†ç¾¤åŠŸèƒ½é™åˆ¶")]),s._v(" "),a("ol",[a("li",[s._v("keyæ‰¹é‡æ“ä½œæ”¯æŒæœ‰çº¿, å¦‚mset, mgetåªæ”¯æŒç›¸åŒslotå†…çš„keyæ‰§è¡Œæ‰¹é‡æ“ä½œ")]),s._v(" "),a("li",[s._v("ä¸åŒæ§½ä½çš„keyä¸æ”¯æŒäº‹åŠ¡")]),s._v(" "),a("li",[s._v("æ— æ³•å°†ä¸€ä¸ªå¤§key(å¯èƒ½æ˜¯hash, list)æ‹†åˆ†åˆ°å¤šä¸ªæ§½")]),s._v(" "),a("li",[s._v("ä¸æ”¯æŒå¤šæ•°æ®åº“ç©ºé—´, é›†ç¾¤æ¨¡å¼ä¸‹åªèƒ½ä½¿ç”¨db0")]),s._v(" "),a("li",[s._v("å¤åˆ¶ç»“æ„åªæ”¯æŒä¸€å±‚ä¸»ä»")])]),s._v(" "),a("h3",{attrs:{id:"æ­å»ºredis-clusteré›†ç¾¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ­å»ºredis-clusteré›†ç¾¤"}},[s._v("#")]),s._v(" æ­å»ºredis clusteré›†ç¾¤")]),s._v(" "),a("h4",{attrs:{id:"å‡†å¤‡èŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡èŠ‚ç‚¹"}},[s._v("#")]),s._v(" å‡†å¤‡èŠ‚ç‚¹")]),s._v(" "),a("p",[s._v("èŠ‚ç‚¹æ•°é‡è‡³å°‘6ä¸ªæ‰èƒ½ä¿è¯ç»„æˆå®Œæ•´é«˜å¯ç”¨çš„é›†ç¾¤, 3ä¸»3ä»")]),s._v(" "),a("h4",{attrs:{id:"èŠ‚ç‚¹æ¡æ‰‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èŠ‚ç‚¹æ¡æ‰‹"}},[s._v("#")]),s._v(" èŠ‚ç‚¹æ¡æ‰‹")]),s._v(" "),a("p",[s._v("é›†ç¾¤æ¨¡å¼ä¸‹çš„èŠ‚ç‚¹é€šè¿‡Gossipåè®®å½¼æ­¤é€šä¿¡, é€šè¿‡å‘é€meet, ping, pongæ¶ˆæ¯é€šä¿¡")]),s._v(" "),a("h4",{attrs:{id:"åˆ†é…æ§½ä½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†é…æ§½ä½"}},[s._v("#")]),s._v(" åˆ†é…æ§½ä½")]),s._v(" "),a("p",[s._v("cluster addslots å‘½ä»¤åˆ†é…æ§½ä½")]),s._v(" "),a("h4",{attrs:{id:"èŠ‚ç‚¹é€šä¿¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èŠ‚ç‚¹é€šä¿¡"}},[s._v("#")]),s._v(" èŠ‚ç‚¹é€šä¿¡")]),s._v(" "),a("p",[s._v("åˆ†å¸ƒå¼å­˜å‚¨ä¸­éœ€è¦æä¾› [ç»´æŠ¤èŠ‚ç‚¹å…ƒæ•°æ®ä¿¡æ¯] çš„æœºåˆ¶: ä¸»è¦åŒ…æ‹¬ èŠ‚ç‚¹è´Ÿè´£å“ªäº›æ•°æ®, èŠ‚ç‚¹çŠ¶æ€ä¿¡æ¯;  å¸¸è§çš„å…ƒæ•°æ®ç»´æŠ¤æ–¹å¼æœ‰ é›†ä¸­å¼å’ŒP2Pæ–¹å¼")]),s._v(" "),a("p",[s._v("redis clusteré‡‡ç”¨ P2Pçš„ Gossipåè®® : èŠ‚ç‚¹ä¹‹é—´ä¸æ–­é€šä¿¡äº¤æ¢ä¿¡æ¯")]),s._v(" "),a("ol",[a("li",[s._v("é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šå•ç‹¬å¼€è¾Ÿä¸€ä¸ªTCPç«¯å£, ç«¯å£å·æ˜¯åŸºç¡€ç«¯å£ä¸ŠåŠ 10000")]),s._v(" "),a("li",[s._v("æ¯ä¸ªèŠ‚ç‚¹é€šè¿‡ç‰¹å®šè§„åˆ™å®šæ—¶å‘é€pingæ¶ˆæ¯, æ¥æ”¶åˆ°pingçš„èŠ‚ç‚¹å“åº”pongæ¶ˆæ¯")])]),s._v(" "),a("h3",{attrs:{id:"gossipæ¶ˆæ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gossipæ¶ˆæ¯"}},[s._v("#")]),s._v(" Gossipæ¶ˆæ¯")]),s._v(" "),a("p",[s._v("Gossipåè®®çš„ä¸»è¦èŒè´£æ˜¯ä¿¡æ¯äº¤æ¢")]),s._v(" "),a("ol",[a("li",[s._v("meetæ¶ˆæ¯: é€šçŸ¥æ–°èŠ‚ç‚¹åŠ å…¥, meetæ¶ˆæ¯æ­£å¸¸å®Œæˆå, æ¥æ”¶èŠ‚ç‚¹åŠ å…¥é›†ç¾¤å‘¨æœŸå‘é€ping/pongæ¶ˆæ¯")]),s._v(" "),a("li",[s._v("pingæ¶ˆæ¯: æ¯ä¸ªèŠ‚ç‚¹æ¯ç§’å‘å¤šä¸ªå…¶ä»–èŠ‚ç‚¹å‘é€, ç”¨äºæ£€æµ‹èŠ‚ç‚¹æ˜¯å¦åœ¨çº¿, äº¤æ¢å½¼æ­¤çŠ¶æ€ä¿¡æ¯")]),s._v(" "),a("li",[s._v("pongæ¶ˆæ¯: å½“æ¥æ”¶åˆ°ping/meetæ¶ˆæ¯, ä½œä¸ºå“åº”å›å¤å¯¹æ–¹; æ¶ˆæ¯å†…éƒ¨å°è£…äº†è‡ªèº«çŠ¶æ€æ•°æ®; ä¹Ÿå¯ä»¥å‘é›†ç¾¤å†…å¹¿æ’­pongæ¶ˆæ¯æ¥é€šçŸ¥è‡ªèº«çŠ¶æ€çš„æ›´æ–°")]),s._v(" "),a("li",[s._v("failæ¶ˆæ¯: å½“èŠ‚ç‚¹åˆ¤å®šå¦ä¸€ä¸ªèŠ‚ç‚¹ä¸‹çº¿æ—¶, ä¼šå‘é›†ç¾¤å†…å¹¿æ’­failæ¶ˆæ¯, ç”¨äºæ•…éšœè½¬ç§»")])]),s._v(" "),a("h4",{attrs:{id:"gossipæ¶ˆæ¯é€šè®¯èŠ‚ç‚¹é€‰æ‹©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gossipæ¶ˆæ¯é€šè®¯èŠ‚ç‚¹é€‰æ‹©"}},[s._v("#")]),s._v(" Gossipæ¶ˆæ¯é€šè®¯èŠ‚ç‚¹é€‰æ‹©")]),s._v(" "),a("p",[s._v("redisçš„Gossipåè®®éœ€è¦å…¼é¡¾ä¿¡æ¯äº¤æ¢å®æ—¶æ€§å’Œé€šè®¯æˆæœ¬å¼€é”€")]),s._v(" "),a("ol",[a("li",[s._v("é¦–å…ˆ, å®šæ—¶ä»»åŠ¡æ˜¯æ¯ç§’æ‰§è¡Œ10æ¬¡")]),s._v(" "),a("li",[s._v("é€‰æ‹©å‘é€çš„èŠ‚ç‚¹, å‘é€pingæ¶ˆæ¯\n"),a("ul",[a("li",[s._v("æ¯ç§’ä¸€æ¬¡: é€‰å–5ä¸ªèŠ‚ç‚¹, é€‰æ‹©æœ€ä¹…æ²¡æœ‰é€šä¿¡çš„èŠ‚ç‚¹å‘é€pingæ¶ˆæ¯")]),s._v(" "),a("li",[s._v("æ¯ç§’10æ¬¡: æ‰«ææœ¬åœ°èŠ‚ç‚¹åˆ—è¡¨, æ‰¾å‡ºæœ€è¿‘ä¸€æ¬¡æ¥å—pongæ¶ˆæ¯æ—¶é—´å¤§äºcluster_node_timeout/2çš„èŠ‚ç‚¹å‘é€pingæ¶ˆæ¯")])])]),s._v(" "),a("li",[s._v("æ¶ˆæ¯æ•°æ®é‡: pingæ¶ˆæ¯æºå¸¦æœ¬èŠ‚ç‚¹ä¿¡æ¯+ååˆ†ä¹‹ä¸€å…¶ä»–èŠ‚ç‚¹ä¿¡æ¯")])]),s._v(" "),a("h3",{attrs:{id:"é›†ç¾¤ä¼¸ç¼©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é›†ç¾¤ä¼¸ç¼©"}},[s._v("#")]),s._v(" é›†ç¾¤ä¼¸ç¼©")]),s._v(" "),a("p",[s._v("redisåœ¨ä¸å½±å“é›†ç¾¤å¯¹å¤–æœåŠ¡çš„æƒ…å†µä¸‹, å¯ä»¥æ‰©å®¹ç¼©å®¹: å…¶åŸç†å¯ä»¥ç®€å•ç†è§£ä¸ºæ§½ä½åœ¨ä¸åŒèŠ‚ç‚¹ä¹‹é—´çµæ´»ç§»åŠ¨")]),s._v(" "),a("h4",{attrs:{id:"é›†ç¾¤æ‰©å®¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é›†ç¾¤æ‰©å®¹"}},[s._v("#")]),s._v(" é›†ç¾¤æ‰©å®¹")]),s._v(" "),a("ul",[a("li",[s._v("æ¨èä½¿ç”¨ redis-trib.rbå·¥å…·åŠ å…¥æ–°èŠ‚ç‚¹, åŒæ—¶æ³¨æ„ä¸è¦ä¸åŒé›†ç¾¤çš„èŠ‚ç‚¹äº’ç›¸åŠ å…¥")]),s._v(" "),a("li",[s._v("æ–°èŠ‚ç‚¹åŠ å…¥é›†ç¾¤å, å¯ä»¥è¿›è¡Œéƒ¨åˆ†æ§½è¿ç§»ä½œä¸ºæ‰©å®¹, æˆ–æ˜¯ä½œä¸ºå…¶ä»–ä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹è´Ÿè´£æ•…éšœè½¬ç§»")])]),s._v(" "),a("h4",{attrs:{id:"æ§½ä½è¿ç§»-æ•°æ®è¿ç§»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ§½ä½è¿ç§»-æ•°æ®è¿ç§»"}},[s._v("#")]),s._v(" æ§½ä½è¿ç§»,æ•°æ®è¿ç§»")]),s._v(" "),a("p",[s._v("æ§½è¿ç§»éœ€è¦ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£ç›¸ä¼¼æ•°é‡çš„æ§½, å°½é‡ä¿è¯å„èŠ‚ç‚¹æ•°æ®å‡åŒ€")]),s._v(" "),a("ol",[a("li",[s._v("ç›®æ ‡èŠ‚ç‚¹å‡†å¤‡å¯¼å…¥æ§½çš„æ•°æ®")]),s._v(" "),a("li",[s._v("æºèŠ‚ç‚¹å‡†å¤‡è¿å‡ºæ§½çš„æ•°æ®")]),s._v(" "),a("li",[s._v("åŸèŠ‚ç‚¹æ‰¹é‡è¿ç§»åˆ°ç›®æ ‡èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("é€šçŸ¥æ‰€æœ‰ä¸»èŠ‚ç‚¹, æ›´æ–°æ§½æ˜ å°„æŒ‡å‘æ–°èŠ‚ç‚¹")])]),s._v(" "),a("h4",{attrs:{id:"é›†ç¾¤ç¼©å®¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é›†ç¾¤ç¼©å®¹"}},[s._v("#")]),s._v(" é›†ç¾¤ç¼©å®¹")]),s._v(" "),a("ol",[a("li",[s._v("ç¡®å®šä¸‹çº¿èŠ‚ç‚¹æ˜¯å¦æœ‰è´Ÿè´£çš„æ§½ä½, å¦‚æœæœ‰éœ€è¦æŠŠæ§½è¿ç§»åˆ°å…¶ä»–èŠ‚ç‚¹")]),s._v(" "),a("li",[s._v("é€šçŸ¥é›†ç¾¤å†…å…¶ä»–èŠ‚ç‚¹å¿˜è®°ä¸‹çº¿èŠ‚ç‚¹, ç„¶åå°†ä¸‹çº¿èŠ‚ç‚¹æ­£å¸¸å…³é—­")])]),s._v(" "),a("h4",{attrs:{id:"è¯·æ±‚è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚è·¯ç”±"}},[s._v("#")]),s._v(" è¯·æ±‚è·¯ç”±")]),s._v(" "),a("p",[s._v("redis clusterå¹¶æ²¡æœ‰é‡‡ç”¨ä»£ç†, è€Œæ˜¯å®¢æˆ·ç«¯ç›´è¿")]),s._v(" "),a("h3",{attrs:{id:"è¯·æ±‚é‡å®šå‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚é‡å®šå‘"}},[s._v("#")]),s._v(" è¯·æ±‚é‡å®šå‘")]),s._v(" "),a("p",[s._v("redis clusteræ¨¡å¼ä¸‹, redisæ¥æ”¶ä»»ä½•keyç›¸å…³å‘½ä»¤é¦–å…ˆè®¡ç®—å¯¹åº”çš„æ§½å’ŒèŠ‚ç‚¹; å¦‚æœèŠ‚ç‚¹æ˜¯è‡ªèº«åˆ™å¤„ç†å‘½ä»¤, å¦åˆ™å›å¤MOVEDé‡å®šå‘é”™è¯¯")]),s._v(" "),a("ol",[a("li",[s._v("ä½¿ç”¨rediså®¢æˆ·ç«¯, åœ¨å®¢æˆ·ç«¯ä¸­ç»´æŠ¤slotå’Œnodeçš„æ˜ å°„, æœ¬åœ°å®ç°keyåˆ°èŠ‚ç‚¹çš„æŸ¥æ‰¾")]),s._v(" "),a("li",[s._v("ä¹Ÿæœ‰å¯èƒ½è¿”å›ASKé‡å®šå‘å¼‚å¸¸ è¯´æ˜é›†ç¾¤æ­£åœ¨è¿›è¡Œslotæ•°æ®è¿ç§»")])]),s._v(" "),a("h3",{attrs:{id:"æ•…éšœè½¬ç§»-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•…éšœè½¬ç§»-2"}},[s._v("#")]),s._v(" æ•…éšœè½¬ç§»")]),s._v(" "),a("p",[s._v("redis clusterè‡ªèº«å®ç°äº†é«˜å¯ç”¨, è§£å†³èŠ‚ç‚¹æ•…éšœé—®é¢˜")]),s._v(" "),a("h4",{attrs:{id:"æ•…éšœå‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•…éšœå‘ç°"}},[s._v("#")]),s._v(" æ•…éšœå‘ç°")]),s._v(" "),a("p",[s._v("redis clusteré€šè¿‡ping/pongæ¶ˆæ¯å®ç°èŠ‚ç‚¹é€šä¿¡, ä¼ æ’­èŠ‚ç‚¹çŠ¶æ€")]),s._v(" "),a("ol",[a("li",[s._v("ä¸»è§‚ä¸‹çº¿(pfail): å‘é€èŠ‚ç‚¹å‘é€pingæ¶ˆæ¯, å¦‚æœç›®æ ‡èŠ‚ç‚¹è¶…è¿‡è¶…æ—¶æ—¶é—´éƒ½æœªå“åº”pongæ¶ˆæ¯, åˆ™è¢«è§†ä¸ºpfail")]),s._v(" "),a("li",[s._v("å®¢è§‚ä¸‹çº¿(fail): ä¸»è§‚ä¸‹çº¿é€šè¿‡Gossipæ¶ˆæ¯åœ¨é›†ç¾¤å†…ä¼ æ’­, å½“åŠæ•°ä»¥ä¸ŠæŒæœ‰æ§½çš„ä¸»èŠ‚ç‚¹éƒ½ä¸»è§‚ä¸‹çº¿ç›®æ ‡èŠ‚ç‚¹, åˆ™è§¦å‘å®¢è§‚ä¸‹çº¿")]),s._v(" "),a("li",[s._v("å¹¿æ’­ä¸€æ¡failæ¶ˆæ¯, å°†ç›®æ ‡èŠ‚ç‚¹æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿")])]),s._v(" "),a("h4",{attrs:{id:"æ•…éšœæ¢å¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•…éšœæ¢å¤"}},[s._v("#")]),s._v(" æ•…éšœæ¢å¤")]),s._v(" "),a("ol",[a("li",[s._v("èµ„æ ¼æ£€æŸ¥")]),s._v(" "),a("li",[s._v("å‡†å¤‡é€‰ä¸¾æ—¶é—´")]),s._v(" "),a("li",[s._v("å‘èµ·é€‰ä¸¾")]),s._v(" "),a("li",[s._v("é€‰ä¸¾æŠ•ç¥¨")]),s._v(" "),a("li",[s._v("æ›¿æ¢ä¸»èŠ‚ç‚¹")])]),s._v(" "),a("h3",{attrs:{id:"é›†ç¾¤è¿ç»´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é›†ç¾¤è¿ç»´"}},[s._v("#")]),s._v(" é›†ç¾¤è¿ç»´")]),s._v(" "),a("p",[s._v("è¶…å¤§è§„æ¨¡é›†ç¾¤å¸¦å®½æ¶ˆè€—,  pub/subå¹¿æ’­é—®é¢˜, é›†ç¾¤èŠ‚ç‚¹å€¾æ–œé—®é¢˜, æ‰‹åŠ¨æ•…éšœè½¬ç§», åœ¨çº¿è¿ç§»æ•°æ®")]),s._v(" "),a("h2",{attrs:{id:"_11-ç¼“å­˜è®¾è®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-ç¼“å­˜è®¾è®¡"}},[s._v("#")]),s._v(" 11. ç¼“å­˜è®¾è®¡")]),s._v(" "),a("p",[s._v("ç¼“å­˜ä½¿ç”¨æŠ€å·§, è®¾è®¡æ–¹æ¡ˆ")]),s._v(" "),a("h4",{attrs:{id:"ç¼“å­˜çš„æ”¶ç›Šå’Œæˆæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜çš„æ”¶ç›Šå’Œæˆæœ¬"}},[s._v("#")]),s._v(" ç¼“å­˜çš„æ”¶ç›Šå’Œæˆæœ¬")]),s._v(" "),a("ol",[a("li",[s._v("åŠ é€Ÿè¯»å†™")]),s._v(" "),a("li",[s._v("é™ä½åç«¯è´Ÿè½½")]),s._v(" "),a("li",[s._v("æ•°æ®ä¸ä¸€è‡´")]),s._v(" "),a("li",[s._v("ä»£ç ç»´æŠ¤æˆæœ¬")]),s._v(" "),a("li",[s._v("è¿ç»´æˆæœ¬")])]),s._v(" "),a("p",[s._v("åœºæ™¯:")]),s._v(" "),a("ol",[a("li",[s._v("å¼€é”€å¤§çš„å¤æ‚è®¡ç®—")]),s._v(" "),a("li",[s._v("åŠ é€Ÿè¯·æ±‚å“åº”")])]),s._v(" "),a("h3",{attrs:{id:"ç¼“å­˜æ›´æ–°ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜æ›´æ–°ç­–ç•¥"}},[s._v("#")]),s._v(" ç¼“å­˜æ›´æ–°ç­–ç•¥")]),s._v(" "),a("p",[s._v("ç¼“å­˜æ•°æ®é€šå¸¸æœ‰ç”Ÿå‘½å‘¨æœŸ, åœ¨æŒ‡å®šæ—¶é—´åè¢«åˆ é™¤æˆ–æ›´æ–°, è¿™æ ·å¯ä»¥ä¿è¯ç¼“å­˜ç©ºé—´åœ¨ä¸€ä¸ªå¯æ§èŒƒå›´")]),s._v(" "),a("ol",[a("li",[s._v("LRU LFU FIFOç®—æ³•å‰”é™¤ : é€šå¸¸ç”¨äºä½¿ç”¨é‡è¶…è¿‡é¢„è®¾å€¼\n"),a("ul",[a("li",[s._v("ä¸€è‡´æ€§å·®(ä¸æ˜¯äººä¸ºå†³å®šçš„å‰”é™¤å“ªäº›key)")]),s._v(" "),a("li",[s._v("æˆæœ¬ä½(ä»…éœ€é…ç½®ç­–ç•¥å³å¯)")])])]),s._v(" "),a("li",[s._v("è¶…æ—¶å‰”é™¤ : ç»™ç¼“å­˜è®¾ç½®è¿‡æœŸæ—¶é—´\n"),a("ul",[a("li",[s._v("ä¸€æ®µæ—¶é—´å†…å­˜åœ¨ä¸€è‡´æ€§é—®é¢˜")]),s._v(" "),a("li",[s._v("æˆæœ¬ä¸é«˜")])])]),s._v(" "),a("li",[s._v("ä¸»åŠ¨æ›´æ–° : éœ€è¦çœŸå®æ•°æ®æ›´æ–°å, ç«‹å³æ›´æ–°ç¼“å­˜æ•°æ®\n"),a("ul",[a("li",[s._v("ä¸€è‡´æ€§æœ€é«˜")]),s._v(" "),a("li",[s._v("ç»´æŠ¤æˆæœ¬é«˜")])])])]),s._v(" "),a("p",[s._v("æœ€ä½³å®è·µ: ä½ä¸€è‡´æ€§ä¸šåŠ¡ç”šè‡³å¯ä»¥åªé æ·˜æ±°ç­–ç•¥")]),s._v(" "),a("p",[s._v("é«˜ä¸€è‡´æ€§ä¸šåŠ¡ç»“åˆä½¿ç”¨è¶…æ—¶å‰”é™¤å’Œä¸»åŠ¨æ›´æ–°, å³ä½¿ä¸»åŠ¨æ›´æ–°å¤±è´¥, ä¹Ÿèƒ½ä¿è¯è¿‡æœŸæ—¶é—´ååˆ é™¤è„æ•°æ®")]),s._v(" "),a("h4",{attrs:{id:"ç¼“å­˜ç²’åº¦æ§åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜ç²’åº¦æ§åˆ¶"}},[s._v("#")]),s._v(" ç¼“å­˜ç²’åº¦æ§åˆ¶")]),s._v(" "),a("p",[s._v("ç¼“å­˜å…¨éƒ¨å±æ€§æ›´é€šç”¨, ä½†ç©ºé—´å ç”¨å¤§, ç½‘ç»œå¼€é”€å¤§, ä»£ç ç»´æŠ¤å°‘; ç¼“å­˜éƒ¨åˆ†å±æ€§åˆ™åä¹‹")]),s._v(" "),a("h3",{attrs:{id:"ç¼“å­˜ç©¿é€ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜ç©¿é€ä¼˜åŒ–"}},[s._v("#")]),s._v(" ç¼“å­˜ç©¿é€ä¼˜åŒ–")]),s._v(" "),a("p",[s._v("ç¼“å­˜ç©¿é€å€¼æŸ¥è¯¢ä¸€ä¸ªæ ¹æœ¬ä¸å­˜åœ¨çš„æ•°æ®, ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚éƒ½ä¸ä¼šå‘½ä¸­, é€šå¸¸ä»å­˜å‚¨å±‚æŸ¥ä¸åˆ°çš„æ•°æ®éƒ½ä¸å†™å…¥ç¼“å­˜")]),s._v(" "),a("p",[s._v("ç¼“å­˜ç©¿é€çš„æ¯æ¬¡è¯·æ±‚éƒ½åˆ°è¾¾å­˜å‚¨å±‚, å¯èƒ½æ˜¯æ¶æ„æ”»å‡»å’Œä»£ç bugé€ æˆ")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("ç¼“å­˜ç©ºå¯¹è±¡")]),s._v(" "),a("ul",[a("li",[s._v("å ç”¨æ›´å¤šå†…å­˜ç©ºé—´, å¯ä»¥é€šè¿‡è®¾ç½®è¾ƒçŸ­ttlè‡ªåŠ¨å‰”é™¤")]),s._v(" "),a("li",[s._v("å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´")])])]),s._v(" "),a("li",[a("strong",[s._v("å¸ƒéš†è¿‡æ»¤å™¨æ‹¦æˆª")]),s._v(" "),a("ul",[a("li",[s._v("å¯ä»¥å°†æ‰€æœ‰æ•°æ®åšæˆå¸ƒéš†è¿‡æ»¤å™¨, åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨")]),s._v(" "),a("li",[s._v("é€‚ç”¨äºæ•°æ®å‘½ä¸­ä¸é«˜, æ•°æ®ç›¸å¯¹å›ºå®š, å®æ—¶æ€§ä½çš„å¼•ç”¨åœºæ™¯")]),s._v(" "),a("li",[s._v("ä»£ç å¤æ‚ä½†ç¼“å­˜ç©ºé—´å ç”¨å°‘")]),s._v(" "),a("li",[s._v("redis4.0å¼€å§‹æä¾›RedisBloomæ’ä»¶")])])])]),s._v(" "),a("h4",{attrs:{id:"å¸ƒéš†è¿‡æ»¤å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸ƒéš†è¿‡æ»¤å™¨"}},[s._v("#")]),s._v(" å¸ƒéš†è¿‡æ»¤å™¨")]),s._v(" "),a("ol",[a("li",[s._v("é€šè¿‡å¤šä¸ªæ˜ å°„å‡½æ•°å°†å·²æœ‰çš„å…ƒç´ æ˜ å°„åˆ°bitmapä¸Š, ä¸€ä¸ªå…ƒç´ ä¼šæ˜ å°„åˆ°å¤šä¸ªbit")]),s._v(" "),a("li",[s._v("å¦‚æœç›®æ ‡å…ƒç´ ç»è¿‡å‡½æ•°æ˜ å°„åˆ°æ²¡æœ‰æ•°æ®çš„bitmapä½ç½®ä¸Š, è¯´æ˜æ•°æ®åº“ä¸­è‚¯å®šæ²¡æœ‰, ä½†ä¼šæœ‰ä¸€å®šæ¦‚ç‡ç©¿é€(è¯¯åˆ¤), 1%")]),s._v(" "),a("li",[s._v("ä¼ ç»Ÿçš„å¸ƒéš†è¿‡æ»¤å™¨å¹¶ä¸æ”¯æŒåˆ é™¤æ“ä½œ(ä¼šå¢åŠ è¯¯åˆ¤ç‡), ä½¿ç”¨countingå¸ƒéš†æˆ–å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨")])]),s._v(" "),a("h4",{attrs:{id:"æ— åº•æ´ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ— åº•æ´ä¼˜åŒ–"}},[s._v("#")]),s._v(" æ— åº•æ´ä¼˜åŒ–")]),s._v(" "),a("p",[s._v("å¤§é‡redisèŠ‚ç‚¹åè€Œå¯¼è‡´æ€§èƒ½ä¸‹é™ --- åˆ†å¸ƒå¼ä¸‹çš„æ‰¹é‡æ“ä½œ")]),s._v(" "),a("ol",[a("li",[s._v("å‘½ä»¤æœ¬èº«ä¼˜åŒ–")]),s._v(" "),a("li",[s._v("å‡å°‘ç½‘ç»œé€šä¿¡æ¬¡æ•°")]),s._v(" "),a("li",[s._v("é™ä½æ¥å…¥æˆæœ¬, é•¿è¿æ¥/è¿æ¥æ± /NIO")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdn.net/20180424144835553?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ltMTIzNDU2Njc3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70",alt:"comp"}})]),s._v(" "),a("p",[s._v("æ–¹æ¡ˆé€‰æ‹©")]),s._v(" "),a("ol",[a("li",[s._v("ä¸²è¡Œ get key * næ¬¡")]),s._v(" "),a("li",[s._v("å°†ä¸€ä¸ªæ‰¹é‡å‘½ä»¤æŒ‰èŠ‚ç‚¹æ‹†åˆ†æˆå¤šä¸ªmget, å‘é€ç»™å¯¹åº”èŠ‚ç‚¹å¤„ç†")]),s._v(" "),a("li",[s._v("å¹¶è¡ŒIO, ä½¿ç”¨å¼‚æ­¥å‘é€æ–¹æ¡ˆ2ä¸­çš„å¤šä¸ªmget")]),s._v(" "),a("li",[s._v("hash_tagå®ç°: å°†å¤šä¸ªkeyå¼ºåˆ¶åˆ†é…åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¸Š")])]),s._v(" "),a("h3",{attrs:{id:"ç¼“å­˜é›ªå´©ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜é›ªå´©ä¼˜åŒ–"}},[s._v("#")]),s._v(" ç¼“å­˜é›ªå´©ä¼˜åŒ–")]),s._v(" "),a("p",[s._v("å¤§é‡è¯·æ±‚ä¸‹, ç¼“å­˜downæ‰å, æ‰€æœ‰è¯·æ±‚åˆ°è¾¾æ•°æ®åº“é€ æˆçº§è”å®•æœºçš„æƒ…å†µ")]),s._v(" "),a("ol",[a("li",[s._v("ä¿è¯ç¼“å­˜æœåŠ¡é«˜å¯ç”¨æ€§")]),s._v(" "),a("li",[s._v("éš”ç¦»ç»„ä»¶ä¸ºåç«¯é™æµ, é™çº§ : å°†é‡è¦èµ„æºéš”ç¦», Hystrix")]),s._v(" "),a("li",[s._v("æå‰æ¼”ç»ƒ: é¡¹ç›®ä¸Šçº¿å‰æ¼”ç»ƒç¼“å­˜å®•æœºä¹‹å, åº”ç”¨åŠåç«¯è´Ÿè½½æƒ…å†µ, ä»¥åŠå¯èƒ½å‡ºç°çš„é—®é¢˜")])]),s._v(" "),a("h3",{attrs:{id:"çƒ­ç‚¹keyé‡å»ºä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çƒ­ç‚¹keyé‡å»ºä¼˜åŒ–"}},[s._v("#")]),s._v(" çƒ­ç‚¹keyé‡å»ºä¼˜åŒ–")]),s._v(" "),a("p",[s._v("ä½¿ç”¨ ç¼“å­˜+è¿‡æœŸæ—¶é—´ ç­–ç•¥èƒ½æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚, ä½†æ˜¯")]),s._v(" "),a("ol",[a("li",[s._v("å½“å‰keyä¸Šä¸€ä¸ªçƒ­ç‚¹key, å¹¶å‘é‡éå¸¸å¤§")]),s._v(" "),a("li",[s._v("é‡å»ºç¼“å­˜ä¸èƒ½çŸ­æ—¶é—´å®Œæˆ, å¯èƒ½æ˜¯ä¸ªå¤æ‚è®¡ç®—, å¤šæ¬¡SQL, å¤šæ¬¡IO")]),s._v(" "),a("li",[s._v("ç¼“å­˜å¤±æ•ˆç¬é—´, å¤§é‡è¯·æ±‚è¾¾åˆ°åç«¯æ•°æ®åº“")])]),s._v(" "),a("p",[s._v("è§£å†³")]),s._v(" "),a("ol",[a("li",[s._v("åˆ†å¸ƒå¼é”\n"),a("ul",[a("li",[s._v("æ­»é”é£é™©, çº¿ç¨‹æ± é˜»å¡, ä½†æ˜¯æ•°æ®ä¸€è‡´æ€§ä¿è¯")])])]),s._v(" "),a("li",[s._v("æ°¸è¿œä¸è¿‡æœŸ\n"),a("ol",[a("li",[s._v("ä¸è®¾ç½®è¿‡æœŸæ—¶é—´")]),s._v(" "),a("li",[s._v("è®¾ç½®é€»è¾‘è¿‡æœŸæ—¶é—´, ç”¨å•ç‹¬çš„çº¿ç¨‹ä¸æ–­æ„å»ºç¼“å­˜(å¯èƒ½ä¸ä¸€è‡´)")])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdn.net/20180424151829748?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ltMTIzNDU2Njc3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70",alt:"çƒ­ç‚¹key"}})]),s._v(" "),a("h2",{attrs:{id:"_12-å…¶ä»–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-å…¶ä»–"}},[s._v("#")]),s._v(" 12. å…¶ä»–")]),s._v(" "),a("p",[s._v("å¼€å‘è¿ç»´, CacheCloud, é…ç½®ç›®å½•ç­‰, ç•¥")]),s._v(" "),a("h3",{attrs:{id:"è¡¥å……"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¡¥å……"}},[s._v("#")]),s._v(" è¡¥å……")]),s._v(" "),a("h3",{attrs:{id:"redisåˆ†å¸ƒå¼é”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisåˆ†å¸ƒå¼é”"}},[s._v("#")]),s._v(" Redisåˆ†å¸ƒå¼é”")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/s8xjm1ZCKIoTGT3DCVA4aw",target:"_blank",rel:"noopener noreferrer"}},[s._v("Redisåˆ†å¸ƒå¼é”åˆ°åº•å®‰å…¨å—, å…³äºRedLockçš„äº‰è®º"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"redisåˆ†å¸ƒå¼é”å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisåˆ†å¸ƒå¼é”å®ç°"}},[s._v("#")]),s._v(" redisåˆ†å¸ƒå¼é”å®ç°")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("åŠ é”")]),s._v(": Luaè„šæœ¬, SET lock_key $unique_id EX $expire_time NX\n"),a("ul",[a("li",[s._v("æœ€åˆç‰ˆ: setnx å‘½ä»¤æŠ¢å é” (SET if Not Exist) , æ­¤æ—¶ç›®æ ‡key (æ­¤å¤„ä¸ºlock_key) ä½œä¸ºé”")]),s._v(" "),a("li",[s._v("è§£å†³æ­»é”é—®é¢˜: è®¾ç½®EXè¶…æ—¶æ—¶é—´, é¿å…å é”çº¿ç¨‹æŒ‚æ‰, å¯¼è‡´çš„æ­»é”")])])]),s._v(" "),a("li",[a("strong",[s._v("é‡Šæ”¾é”")]),s._v(":\n"),a("ul",[a("li",[s._v("è§£å†³é‡Šæ”¾åˆ«äººçš„é”çš„é—®é¢˜: keyä¸­çš„valueè¿˜æ²¡ç”¨åˆ°, è®¾ç½®ä¸ºUUIDå§! å…ˆ GET åˆ¤æ–­é”æ˜¯å¦å½’å±è‡ªå·±, å†å†³å®šæ˜¯å¦ DEL é‡Šæ”¾é”, æ•´ä¸ªè¿‡ç¨‹ä¸ºäº†"),a("strong",[s._v("ä¿è¯åŸå­æ€§, ä½¿ç”¨Luaè„šæœ¬")])])])]),s._v(" "),a("li",[a("strong",[s._v("é”ç»­æœŸ")]),s._v(" :\n"),a("ul",[a("li",[s._v("è§£å†³é”è¿‡æœŸæ—¶é—´ä¸å¥½è¯„ä¼°çš„é—®é¢˜: å¦‚æœå é”çº¿ç¨‹æ­£å¸¸, å®šæ—¶å¯¹é”ç»­æœŸ")])])]),s._v(" "),a("li",[s._v("ä»ç„¶å­˜åœ¨çš„"),a("strong",[s._v("é—®é¢˜")]),s._v(": redisä¸»ä»é›†ç¾¤ä¸‹, æ•°æ®ä¸åŒæ­¥å¯¼è‡´é”å¤±æ•ˆ\n"),a("ul",[a("li",[s._v("ä¸»æœºè®¾ç½®å®Œé”åè¿˜æœªåŒæ­¥åˆ°ä»æœºå°±å®•æœºäº†, æ­¤æ—¶æ–°ä¸»æœºæ ¹æœ¬æ²¡æœ‰ä¸Šé”")])])])]),s._v(" "),a("p",[s._v("Redissonæä¾›äº†åŸºäºredisçš„åˆ†å¸ƒå¼é”, å®ç°äº†è‡ªåŠ¨ç»­æœŸåŠŸèƒ½")]),s._v(" "),a("h4",{attrs:{id:"redlock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redlock"}},[s._v("#")]),s._v(" RedLock")]),s._v(" "),a("p",[s._v("è‡³å°‘è¦éƒ¨ç½² 5 ä¸ª Redis å®ä¾‹, è€Œä¸”éƒ½æ˜¯ä¸»åº“, å®ƒä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»")]),s._v(" "),a("ol",[a("li",[s._v("å®¢æˆ·ç«¯å…ˆè·å–ã€Œå½“å‰æ—¶é—´æˆ³T1ã€")]),s._v(" "),a("li",[s._v("å®¢æˆ·ç«¯ä¾æ¬¡å‘è¿™ 5 ä¸ª Redis å®ä¾‹å‘èµ·åŠ é”è¯·æ±‚ (ç”¨å‰é¢è®²åˆ°çš„ SET å‘½ä»¤)\n"),a("ul",[a("li",[s._v("ä¸”æ¯ä¸ªè¯·æ±‚ä¼šè®¾ç½®è¶…æ—¶æ—¶é—´ (æ¯«ç§’çº§, è¦è¿œå°äºé”çš„æœ‰æ•ˆæ—¶é—´)")]),s._v(" "),a("li",[s._v("å¦‚æœæŸä¸€ä¸ªå®ä¾‹åŠ é”å¤±è´¥ (åŒ…æ‹¬ç½‘ç»œè¶…æ—¶ã€é”è¢«å…¶å®ƒäººæŒæœ‰ç­‰å„ç§å¼‚å¸¸æƒ…å†µ) , å°±ç«‹å³å‘ä¸‹ä¸€ä¸ª Redis å®ä¾‹ç”³è¯·åŠ é”")])])]),s._v(" "),a("li",[s._v("å¦‚æœå®¢æˆ·ç«¯åœ¨ >=3 ä¸ª Redis å®ä¾‹åŠ é”æˆåŠŸ (å¤§å¤šæ•°åŠ é”æˆåŠŸ) , åˆ™\n"),a("ol",[a("li",[s._v("å†æ¬¡è·å–ã€Œå½“å‰æ—¶é—´æˆ³T2ã€")]),s._v(" "),a("li",[s._v("åˆ¤æ–­ T2 - T1 < é”çš„è¿‡æœŸæ—¶é—´, å¦‚æœè¿˜æœªè¶…è¿‡è¿‡æœŸ(æœ‰æ•ˆ)æ—¶é—´, åˆ™åŠ é”æˆåŠŸ, å¦åˆ™åŠ é”å¤±è´¥")])])]),s._v(" "),a("li",[s._v("åŠ é”æˆåŠŸ, å»æ“ä½œå…±äº«èµ„æº")]),s._v(" "),a("li",[s._v("åŠ é”å¤±è´¥, å‘ã€Œå…¨éƒ¨èŠ‚ç‚¹ã€å‘èµ·é‡Šæ”¾é”è¯·æ±‚ (å‰é¢è®²åˆ°çš„ Lua è„šæœ¬é‡Šæ”¾é”)")])]),s._v(" "),a("p",[a("svg",{attrs:{id:"SvgjsSvg1006",width:"327",height:"333",xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs"}},[a("defs",{attrs:{id:"SvgjsDefs1007"}},[a("marker",{attrs:{id:"SvgjsMarker1046",markerWidth:"16",markerHeight:"12",refX:"16",refY:"6",viewBox:"0 0 16 12",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1047",d:"M0,2 L14,6 L0,11 L0,2",fill:"#323232",stroke:"#323232","stroke-width":"2"}})]),a("marker",{attrs:{id:"SvgjsMarker1050",markerWidth:"16",markerHeight:"12",refX:"16",refY:"6",viewBox:"0 0 16 12",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1051",d:"M0,2 L14,6 L0,11 L0,2",fill:"#323232",stroke:"#323232","stroke-width":"2"}})]),a("marker",{attrs:{id:"SvgjsMarker1054",markerWidth:"16",markerHeight:"12",refX:"16",refY:"6",viewBox:"0 0 16 12",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1055",d:"M0,2 L14,6 L0,11 L0,2",fill:"#323232",stroke:"#323232","stroke-width":"2"}})]),a("marker",{attrs:{id:"SvgjsMarker1058",markerWidth:"16",markerHeight:"12",refX:"16",refY:"6",viewBox:"0 0 16 12",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1059",d:"M0,2 L14,6 L0,11 L0,2",fill:"#323232",stroke:"#323232","stroke-width":"2"}})]),a("marker",{attrs:{id:"SvgjsMarker1062",markerWidth:"16",markerHeight:"12",refX:"16",refY:"6",viewBox:"0 0 16 12",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1063",d:"M0,2 L14,6 L0,11 L0,2",fill:"#323232",stroke:"#323232","stroke-width":"2"}})])]),a("g",{attrs:{id:"SvgjsG1008",transform:"translate(25,131.5)"}},[a("path",{attrs:{id:"SvgjsPath1009",d:"M 0 35C 0 -11.666666666666666 70 -11.666666666666666 70 35C 70 81.66666666666667 0 81.66666666666667 0 35Z",stroke:"rgba(50,50,50,1)","stroke-width":"2","fill-opacity":"1",fill:"#bbdefb"}}),a("g",{attrs:{id:"SvgjsG1010"}},[a("text",{attrs:{id:"SvgjsText1011","font-family":"å¾®è½¯é›…é»‘","text-anchor":"middle","font-size":"13px",width:"50px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"å¾®è½¯é›…é»‘",size:"13px",weight:"400","font-style":"",opacity:"1",y:"25.375",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1012",dy:"16",x:"35"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1013"}},[s._v("app")])])])])]),a("g",{attrs:{id:"SvgjsG1014",transform:"translate(210,25)"}},[a("path",{attrs:{id:"SvgjsPath1015",d:"M 0 4Q 0 0 4 0L 88 0Q 92 0 92 4L 92 38Q 92 42 88 42L 4 42Q 0 42 0 38Z",stroke:"rgba(50,50,50,1)","stroke-width":"2","fill-opacity":"1",fill:"#ffcdd2"}}),a("g",{attrs:{id:"SvgjsG1016"}},[a("text",{attrs:{id:"SvgjsText1017","font-family":"å¾®è½¯é›…é»‘","text-anchor":"middle","font-size":"13px",width:"72px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"å¾®è½¯é›…é»‘",size:"13px",weight:"400","font-style":"",opacity:"1",y:"11.375",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1018",dy:"16",x:"46"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1019"}},[s._v("Redis")])])])])]),a("g",{attrs:{id:"SvgjsG1020",transform:"translate(210,85.25)"}},[a("path",{attrs:{id:"SvgjsPath1021",d:"M 0 4Q 0 0 4 0L 88 0Q 92 0 92 4L 92 38Q 92 42 88 42L 4 42Q 0 42 0 38Z",stroke:"rgba(50,50,50,1)","stroke-width":"2","fill-opacity":"1",fill:"#ffcdd2"}}),a("g",{attrs:{id:"SvgjsG1022"}},[a("text",{attrs:{id:"SvgjsText1023","font-family":"å¾®è½¯é›…é»‘","text-anchor":"middle","font-size":"13px",width:"72px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"å¾®è½¯é›…é»‘",size:"13px",weight:"400","font-style":"",opacity:"1",y:"11.375",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1024",dy:"16",x:"46"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1025"}},[s._v("Redis")])])])])]),a("g",{attrs:{id:"SvgjsG1026",transform:"translate(210,145.5)"}},[a("path",{attrs:{id:"SvgjsPath1027",d:"M 0 4Q 0 0 4 0L 88 0Q 92 0 92 4L 92 38Q 92 42 88 42L 4 42Q 0 42 0 38Z",stroke:"rgba(50,50,50,1)","stroke-width":"2","fill-opacity":"1",fill:"#ffcdd2"}}),a("g",{attrs:{id:"SvgjsG1028"}},[a("text",{attrs:{id:"SvgjsText1029","font-family":"å¾®è½¯é›…é»‘","text-anchor":"middle","font-size":"13px",width:"72px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"å¾®è½¯é›…é»‘",size:"13px",weight:"400","font-style":"",opacity:"1",y:"11.375",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1030",dy:"16",x:"46"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1031"}},[s._v("Redis")])])])])]),a("g",{attrs:{id:"SvgjsG1032",transform:"translate(210,205.75)"}},[a("path",{attrs:{id:"SvgjsPath1033",d:"M 0 4Q 0 0 4 0L 88 0Q 92 0 92 4L 92 38Q 92 42 88 42L 4 42Q 0 42 0 38Z",stroke:"rgba(50,50,50,1)","stroke-width":"2","fill-opacity":"1",fill:"#ffcdd2"}}),a("g",{attrs:{id:"SvgjsG1034"}},[a("text",{attrs:{id:"SvgjsText1035","font-family":"å¾®è½¯é›…é»‘","text-anchor":"middle","font-size":"13px",width:"72px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"å¾®è½¯é›…é»‘",size:"13px",weight:"400","font-style":"",opacity:"1",y:"11.375",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1036",dy:"16",x:"46"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1037"}},[s._v("Redis")])])])])]),a("g",{attrs:{id:"SvgjsG1038",transform:"translate(210,266)"}},[a("path",{attrs:{id:"SvgjsPath1039",d:"M 0 4Q 0 0 4 0L 88 0Q 92 0 92 4L 92 38Q 92 42 88 42L 4 42Q 0 42 0 38Z",stroke:"rgba(50,50,50,1)","stroke-width":"2","fill-opacity":"1",fill:"#ffcdd2"}}),a("g",{attrs:{id:"SvgjsG1040"}},[a("text",{attrs:{id:"SvgjsText1041","font-family":"å¾®è½¯é›…é»‘","text-anchor":"middle","font-size":"13px",width:"72px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"å¾®è½¯é›…é»‘",size:"13px",weight:"400","font-style":"",opacity:"1",y:"11.375",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1042",dy:"16",x:"46"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1043"}},[s._v("Redis")])])])])]),a("g",{attrs:{id:"SvgjsG1044"}},[a("path",{attrs:{id:"SvgjsPath1045",d:"M95 166.5C 161.37408368287248 172.30697987417233 143.3723781003704 46 210 46",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1046)"}})]),a("g",{attrs:{id:"SvgjsG1048"}},[a("path",{attrs:{id:"SvgjsPath1049",d:"M95 166.5C 146.733206919738 171.02606913331795 158.06918063423223 106.25 210 106.25",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1050)"}})]),a("g",{attrs:{id:"SvgjsG1052"}},[a("path",{attrs:{id:"SvgjsPath1053",d:"M95 166.5C 140.8249561122203 170.50916416639225 164 166.5 210 166.5",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1054)"}})]),a("g",{attrs:{id:"SvgjsG1056"}},[a("path",{attrs:{id:"SvgjsPath1057",d:"M95 166.5C 146.733206919738 171.02606913331795 158.06918063423223 226.75 210 226.75",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1058)"}})]),a("g",{attrs:{id:"SvgjsG1060"}},[a("path",{attrs:{id:"SvgjsPath1061",d:"M95 166.5C 161.37408368287248 172.30697987417233 143.3723781003704 287 210 287",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1062)"}})])])]),s._v(" "),a("h4",{attrs:{id:"springæ•´åˆredis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springæ•´åˆredis"}},[s._v("#")]),s._v(" Springæ•´åˆredis")]),s._v(" "),a("p",[s._v("jedis, lettuce")]),s._v(" "),a("ol",[a("li",[s._v("è¿æ¥redis")]),s._v(" "),a("li",[s._v("é€‰æ‹©é«˜é˜¶æˆ–ä½é˜¶çš„apiè¿›è¡Œè°ƒç”¨")]),s._v(" "),a("li",[s._v("æ•°æ®è¦åºåˆ—åŒ–æˆä»€ä¹ˆæ ·å­æ”¾è¿›å» (Jackson2JsonRedisSerializer)")])]),s._v(" "),a("h4",{attrs:{id:"select-epoll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#select-epoll"}},[s._v("#")]),s._v(" select epoll")]),s._v(" "),a("ol",[a("li",[s._v("æ—©æœŸå¯¹å†…æ ¸socketè¯»å–æ˜¯é˜»å¡çš„")]),s._v(" "),a("li",[s._v("åæ¥å¯¹socketå¯ä»¥éé˜»å¡è¯»å–, è½®è¯¢è¯»å–, å¤šä¸ªsocketè¿˜æ˜¯è¦æ¯ä¸ªå»è¯»å–")]),s._v(" "),a("li",[s._v("å‡ºç°select, ä½¿ç”¨åå†…æ ¸ä¸€æ¬¡è¿”å›å“ªäº›socketå¯ä»¥è¯»å–")]),s._v(" "),a("li")])])}),[],!1,null,null,null);t.default=r.exports}}]);