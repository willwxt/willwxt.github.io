(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{367:function(s,n,a){"use strict";a.r(n);var e=a(45),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ol",[a("li",[s._v("笔试题目\n"),a("ul",[a("li",[s._v("紧张的要死, 反转链表没写出来")])])]),s._v(" "),a("li",[s._v("介绍项目")]),s._v(" "),a("li",[s._v("项目追问")]),s._v(" "),a("li",[s._v("项目中你觉得提升最大的是哪个项目")]),s._v(" "),a("li",[s._v("继续追问\n"),a("ul",[a("li",[s._v("紧张, 表达太差, 表达不清晰, 语速太慢")])])]),s._v(" "),a("li",[s._v("Spring问题\n"),a("ul",[a("li",[s._v("表达太差")])])]),s._v(" "),a("li",[s._v("MySQL问题")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("项目介绍\n\n(项目架构: GTM(广域网流量管理,灾备和主中心)+SSL网关+F5服务(Web和应用服务器)\n+oracle+ESB/星云微服务+infa数据同步(票据表用于微信银行开票成功/失败提醒)\n+nas文件服务器(oss对象存储,影像平台))\n\n我是2019年6月开始进入现在的公司, 所在项目组负责的宁波银行企业网银项目, \n为企业提供服务电子票据, 工资代发, 内部转账, 融资贷款, 理财, 资产池, 外汇, 积分营销,  \n主要负责电子票据业务\n(企业A通过一定保证金/信用度向银行提出开票申请(直接开给另一公司B), \n企业A在一定期限后无条件支付票面金额给持票人, \n这张票可以作为货款在公司间流通(背书), 公司也可以将票提前卖给银行, 银行收取一定利率) \n\n解释贴现业务与原有业务的不同点, 新做贴现主要以营销优惠的方式吸引用户为主\n和第三方平台化纤汇合作, 使用宁波银行贴现功能进行对方平台货款交付的在线贴现(首个大项目, 历时4个月)\n使用积分/营销活动换取优惠券进行贴现,\n再到今年的供应链开票贴;\n\n2020年初宁波银行开始搭建自己的微服务平台\n(以eureka, Apollo为基础 从项目申请, 脚手架, 代码托管, 环境部署, \n鉴权, 接口限流, 熔断, ip白名单, 链路追踪) 贴现中台, 核心拆分资产池等, \n做了http远程调用组件, 之前远程组件使用ESB(企业服务总线,统一接口,接入8533,soap,xml等报文), \n接入过程中遇到了研发部提供的鉴权sdk\n(规范中需要向认证中心获取本系统的token(跨系统调用需要放在header中,\n起一个定时任务,每小时获取token,有效期8小时))\n兼容性问题(was自带httpclient和sdk中的httpclient版本冲突, 后来我用common httpclient重写) \n可以延伸到上汽财务J9与Hotspot RSA cipher兼容性问题\n\n这个项目当时是以闭源的mvc框架做的, 基于java, h5, js, jsp,\n\n2020年底我们开始计划将老项目拆分 最先入手就是将可复用高的, 公共的模块拆分出来成为微服务, \n一个是交易指令(指令生成, 查询), 用户(用户信息, 登录), 还有验签(ukey)\n可以详细描述字典服务, 验签服务, 指令流水服务\n\n调用逻辑还是前端-老APP服务器-微服务\n但是新的内部管理系统以及开始通过前端直接访问微服务前端了\n\n后续按照业务模块陆续拆出票据中台(开票,贴现,签约等功能先行,主要拆分流水表,新增临时流水), 外汇中心, 内管(拆分了一部分, 另一部分老项目的功能比如交易详情, 定时任务(展开))\n\n有什么觉得比较复杂, 或者提升比较大的项目\n\n挺多的, \n(进步类)首当其冲的是在线贴现, 第一个大型项目, 开始到结束大概4个月, 从什么都不懂到了解贴现业务, 网银系统打通整套流程, 开发流程, SVN代码托管, linux查日志, debug\n(失败类)二级户资金归集, 一个结算账户可以开通多个二级户用于工资代发或, 前期对于接口数据量预估不够, 无法满足10000条数据, 最终拆分为每次800笔循环发送\n(展示能力)对内管进行优化: (解释一下查证)\n1.偏移量(不好改的原因是以前定时任务上评审,效果不明显,后续已规范),   \n(定时任务流程: 有1000笔状态为待处理的数据, 分页查询1~100; (通过接口)通过循环查询每笔流水状态交易成功/失败/待处理, 并把状态更新数据库\n100笔循环完, 判断本次分页查询数量100是否小于待处理数据总数, 然后继续分页查询101~200笔)\n2.新表\n直接从流水表获取待处理记录开销较大,在交易过程中将需要查证的流水插入查证流水表(存的数据量可以少些,主要记录流水号,交易码,状态),查证至流水结束后从查证流水表中删除;\n\n对接营销中台, 蓝喜商城, 上线问题: 当天上线, 第三方的老师跑回家了, 开放银行接口返回代码不对(规范问题)\n2021大年三十前一天生产上文件服务器满了的问题 \n(查询用的文件接口都放在不具有自动清理功能的目录下, 导致工资代发功能一直失败, \n临时处理:排查生产上哪些常用文件接口, 将路径修改至开启了自动清理功能的目录下, 后续作为编码规范要求)\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1准备\n字典服务: 翻译(原公用参数表(code, language, key, value),\n存中繁简英文,比如网点名,币种,交易状态等),\n工作日(自己维护, 当前日期, 是否节假日, 下一个工作日),\n交易暂停(交易暂停表, 交易码, 起始终止时间), 部分功能在内管\n验签服务: 原验签服务: \n进入页面生成防重token, 提交表单后页面组装金额币种等字段作为原文, \n用户输入ukey密码后, 签名加密原文, 把原文,密文,证书信息发送到后台验签并对比参数, \nusbkey配套的sdk(信安公司) 主要的表验签表(交易码, 需要校验字段, ) \n(正常验签通讯流程: A->B  A私钥签名,B公钥加密; B私钥解密,A公钥验签)\n指令服务: 增删改, 根据业务(国际,非国际,业务分组,渠道),时间,状态(成功,失败),分页(前4条)进行查询\n指令新增: (一些字段空,工作日检查等不计入,说主要流程)\n\n1. 判断是否有经办权限(\n   1.用户开通交易分组表(用户id(联合主键),业务分组id(联合主键),用户权限(5位,分别是经办,复核,授权,审批,发送),授权级别)\n   2.交易分组表(业务分组id, (业务分组类型), 交易码(新增业务会为这张表新增数据) 这三个为联合主键)\n   3.以上两表查询对应交易码的用户权限, 取第一位判断是否有经办权限\n   )\n2. 其他一些判断, 网银交易时间, 限额检查, 一些交易是否输入支付密码\n   4, 获取该用户,该交易的授权模式(获取该业务的授权模式明细(获取授权模式编号\n   1.授权模式定义表 (id(主键),客户号(索引),是否有金额,复核,授权,发送,审批,额度区间*5(按顺序分金额区间)和权限组合*5(使用对应授权组合)\n   2.授权模式关联表 (客户号(联合主键), 交易码(联合主键), 授权模式id) (分这个表, 是由于交易码太多, 减少冗余)\n   ),如果未设置参考跨行转账,或一键出票)\n3. 计算下一步状态 (这里是经办提交, 判断是否要复核->是否授权->是否审批->是否手工发送->发送)\n4. 上面都通过, 用sequence生成流水号, \n   插入处理历史表(流水号,客户号,动作类型) (用来查看单条流水的授权记录)\n   插入授权队列表(流水号,客户号,动作类型) (用来查询复核列表) (复核这里是更新)\n   插入历史流水表(流水号,一些交易的公共信息,比如付款收款方,金额,币种,状态; 用来丰富展示复核列表的字段)\n   插入交易对应的主流水表, 这里是票据流水表\n\n第一次真实项目中使用SpringCloud, 架构守护, mockito单元测试, info规范, Eureka, Apollo, FeignClient, Jenkins\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("如果有最后提问: DDD 目前项目虽然用DDD分层,但是实体类都是贫血模型, 基本和dto一样\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);